{
  "id" : 1,
  "name" : "AI4EOSC",
  "description" : "AI4EOSC architecture",
  "lastModifiedDate" : "2023-03-13T13:19:22Z",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIGV4dGVuZHMgLi4vZW9zYy1sYW5kc2NhcGUuZHNsIHsKICAgIAogICAgLyogIWltcGxpZWRSZWxhdGlvbnNoaXBzIGZhbHNlICovCgogICAgbmFtZSAiQUk0RU9TQyIKICAgIGRlc2NyaXB0aW9uICJBSTRFT1NDIGFyY2hpdGVjdHVyZSIKCiAgICBtb2RlbCB7CgogICAgICAgICFyZWYgZW9zY191c2VyIHsKICAgICAgICAgICAgZGVzY3JpcHRpb24gIkVPU0MgdXNlciB3aWxsaW5nIHRvIHVzZSBhbiBBSSBwbGF0Zm9ybSB0byBkZXZlbG9wIGFuIEFJIGFwcGxpY2F0aW9uLiIKICAgICAgICB9CgogICAgICAgIHBhYXNfb3BzID0gcGVyc29uICJQYWFTIE9wZXJhdG9yIiAiUmVzb3VyY2UgcHJvdmlkZXIgb3BlcmF0b3Igb3IgcGxhdGZvcm0gb3BlcmF0b3IgbWFuYWdpbmcgdGhlIFBhYVMgZGVwbG95bWVudHMuIgoKICAgICAgICBhaTRlb3NjID0gZW50ZXJwcmlzZSAiQUk0RU9TQyIgewogICAgICAgICAgICBhaTRlb3NjX3BsYXRmb3JtID0gc29mdHdhcmVTeXN0ZW0gIkFJNEVPU0MgUGxhdGZvcm0iICJBbGxvd3MgRU9TQyB1c2VycyB0byBkZXZlbG9wLCBidWlsZCBhbmQgc2hhcmUgQUkgbW9kZWxzLiIgewogICAgICAgICAgICAgICAgZXhjaGFuZ2UgPSBncm91cCAiQUk0RU9TQyBFeGNoYW5nZSIgewogICAgICAgICAgICAgICAgICAgIGV4Y2hhbmdlX2FwaSA9ICBjb250YWluZXIgIkV4Y2hhbmdlIEFQSSIgIlByb3ZpZGVzIGV4Y2hhbmdlIGZ1bmN0aW9uYWxpdHkgdmlhIEhUVFBTL0pTT04gQVBJLiIKICAgIAogICAgICAgICAgICAgICAgICAgIGRhdGFfcmVwbyA9IGNvbnRhaW5lciAiTW9kZWwgYW5kIGRhdGEgcmVwb3NpdG9yeSIgIlRyYWNrIEFJIG1vZGVscyBhbmQgZGF0YSBzZXRzLiIgImR2YyIgInJlcG9zaXRvcnkiCiAgICAgICAgICAgICAgICAgICAgbW9kZWxfcmVwbyA9IGNvbnRhaW5lciAiTW9kZWwgY29kZSByZXBvc2l0b3J5IiAiVHJhY2sgQUkgbW9kZWwgY29kZS4iICJHaXQiICJyZXBvc2l0b3J5IgogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcl9yZXBvID0gY29udGFpbmVyICJDb250YWluZXIgcmVnaXN0cnkiICJTdG9yZSBjb250YWluZXIgaW1hZ2VzLiIgIkRvY2tlckh1YiIgInJlcG9zaXRvcnkiIAogICAgCiAgICAgICAgICAgICAgICAgICAgZXhjaGFuZ2VfZGIgPSBjb250YWluZXIgIkV4Y2hhbmdlIGRhdGFiYXNlIiAiU3RvcmVzIEFJNEVPU0MgZXhjaGFuZ2UgcmVnaXN0ZXJlZCBtb2RlbHMuIiAiIiAiZGF0YWJhc2UiCgogICAgICAgICAgICAgICAgICAgIGNpID0gY29udGFpbmVyICJDb250aW51b3VzIEludGVncmF0aW9uIiAiRW5zdXJlcyBxdWFsaXR5IGFzcGVjdHMgYXJlIGZ1bGZpbGxlZCAoY29kZSBjaGVja3MsIHVuaXQgY2hlY2tzLCBldGMuKS4iCiAgICAgICAgICAgICAgICAgICAgY2QgPSBjb250YWluZXIgIkNvbnRpbnVvdXMgRGVsaXZlcnkgJiBEZXBsb3ltZW50IiAiRW5zdXJlcyBkZWxpdmVyeSBhbmQgZGVwbG95bWVudCBvZiBuZXcgYXNzZXRzLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlkZW50aXR5ID0gZ3JvdXAgIklkZW50aXR5IGFuZCB1c2VyIG1hbmFnZW1lbnQiIHsKCiAgICAgICAgICAgICAgICAgICAgaWFtID0gY29udGFpbmVyICJJZGVudGl0eSBhbmQgQWNjZXNzIE1hbmFnZW1lbnQiICJQcm92aWRlcyB1c2VyIGFuZCBncm91cCBtYW5hZ2VtZW50LiIgIklORElHTyBJQU0iCiAgICAKICAgICAgICAgICAgICAgICAgICBvcmRlciA9IGNvbnRhaW5lciAiT3JkZXIgbWFuYWdlbWVudCBzeXN0ZW0iICJNYW5hZ2VzIG9yZGVycyBjb21pbmcgYm90aCBmcm9tIHRoZSBFT1NDIHBvcnRhbCBvciBmb3IgbmV3IHVzZXJzLiIgIiIKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRhc2hib2FyZCA9IGNvbnRhaW5lciAiQUk0RU9TQyBkYXNoYm9hcmQiICJQcm92aWRlcyBhY2Nlc3MgdG8gZXhpc3RpbmcgbW9kdWxlcyAoYW5vbnltb3VzKSwgZXhwZXJpbWVudCBhbmQgdHJhaW5pbmcgZGVmaW5pdGlvbiAobG9nZ2VkIHVzZXJzKS4iICJBbmd1bGFyIiAiZGFzaGJvYXJkIgoKICAgICAgICAgICAgICAgIHRyYWluaW5nID0gZ3JvdXAgIkFJNEVPU0MgdHJhaW5pbmciIHsKICAgICAgICAgICAgICAgICAgICB0cmFpbmluZ19hcGkgPSBjb250YWluZXIgIlRyYWluaW5nIEFQSSIgIlByb3ZpZGVzIHRyYWluaW5nIGNyZWF0aW9uIGFuZCBtb25pdG9yaW5nIGZ1bmN0aW9uYWxpdHkgdmlhIGEgSlNPTi9IVFRQUyBBUEkuIiAiRmFzdEFQSSArIHB5dGhvbi1ub21hZCIKCiAgICAgICAgICAgICAgICAgICAgdHJhaW5pbmdfZGIgPSBjb250YWluZXIgIlRyYWluaW5nIGRhdGFiYXNlIiAiU3RvcmVzIEFJNEVPU0MgdHJhaW5pbmcgcmVxdWVzdHMuIiAiIiAiZGF0YWJhc2UiCiAgICAKICAgICAgICAgICAgICAgICAgICBkZXYgPSBjb250YWluZXIgIkludGVyYWN0aXZlIGRldmVsb3BtZW50IEVudmlyb25tZW50IiAiQW4gaW50ZXJhY3RpdmUgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgd2l0aCBhY2Nlc3MgdG8gcmVzb3VyY2VzIGFuZCBsaW1pdGVkIGV4ZWN1dGlvbiB0aW1lLiIgIkp1cHl0ZXIiCiAgICAKICAgICAgICAgICAgICAgICAgICBjb2UgPSBjb250YWluZXIgIldvcmtsb2FkIE1hbmFnZW1lbnQgU3lzdGVtIiAiTWFuYWdlcyBhbmQgc2NoZWR1bGVzIHRoZSBleGVjdXRpb24gb2YgY29tcHV0ZSByZXF1ZXN0cy4iICJIYXNoaWNvcnAgTm9tYWQiCiAgICAKICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBjb250YWluZXIgIkNvbXB1dGUgY2xpZW50IiAiRXhlY3V0ZXMgdXNlciB3b3JrbG9hZHMuIiAiSGFzaGljb3JwIE5vbWFkIgoKICAgICAgICAgICAgICAgICAgICBmZWRlcmF0ZWRfc2VydmVyID0gY29udGFpbmVyICJGZWRlcmF0ZWQgbGVhcm5pbmcgc2VydmVyIiAiQWdyZWdhdGVzIGZlZGVyYXRlZCBjbGllbnQgdXBkYXRlcyIgImZsb3dlci5pbyIKCiAgICAgICAgICAgICAgICBtb2RlbF9jb250YWluZXIgPSBjb250YWluZXIgIk1vZGVsIGNvbnRhaW5lciIgIkVuY2Fwc3VsYXRlcyB1c2VyIGNvZGUuIiAiRG9ja2VyIiB7CiAgICAgICAgICAgICAgICAgICAgYXBpID0gY29tcG9uZW50ICJBUEkiICIiICJERUVQYWFTIEFQSSIKCiAgICAgICAgICAgICAgICAgICAgZnJhbWV3b3JrID0gY29tcG9uZW50ICJNTC9BSSBmcmFtZXdvcmsiCgogICAgICAgICAgICAgICAgICAgIHVzZXJfbW9kZWwgPSBjb21wb25lbnQgIlVzZXIgY29kZSBhbmQgbW9kZWwiCgogICAgICAgICAgICAgICAgICAgIGFwaSAtPiB1c2VyX21vZGVsCiAgICAgICAgICAgICAgICAgICAgdXNlcl9tb2RlbCAtPiBmcmFtZXdvcmsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlLCBhZGRlZCBoZXJlLCBidXQgaWdub3JlZCBpbiB0aGUgdmlldywganVzdCB0bwogICAgICAgICAgICAgICAgIyBiZSBpbmNsdWRlZCBpbiB0aGUgZHluYW1pYyB2aWV3CiAgICAgICAgICAgICAgICBleHRlcm5hbF9jb250YWluZXIgPSBjb250YWluZXIgIlVzZXItbWFuYWdlZCBtb2RlbCBjb250YWluZXIiICJFbmNhcHN1bGF0ZXMgdXNlciBjb2RlLCBub3QgZXhlY3V0ZWQgb24gdGhlIHBsYXRmb3JtIiAiRG9ja2VyIiAKICAgICAgICAgICAgICAgIGV4dGVybmFsX2NvbnRhaW5lciAtPiBmZWRlcmF0ZWRfc2VydmVyICJHZXRzIHVwZGF0ZWQgbW9kZWwsIHNlbmRzIHdlaWdodHMgdG8gc2VydmVyIgogICAgICAgICAgICB9CgogICAgICAgICAgICBtbG9wcyA9IHNvZnR3YXJlU3lzdGVtICJNYWNoaW5lIExlYXJuaW5nIE9wZXJhdGlvbnMgKE1MT3BzKSIgIlByb3ZpZGVzIHRoZSBhYmlsaXR5IHRvIGltcGxlbWVudCBNTE9wcyB0ZWNobmlxdWVzLCBhcyBuZWVkZWQgZnJvbSB1c2UgY2FzZXMiIHsKICAgICAgICAgICAgICAgIGRhdGFfcHJlcHJvYyA9IGNvbnRhaW5lciAiRGF0YSBwcmVwYXJhdGlvbiIgIlByZXBhcmUgYW5kIHByb2Nlc3MgZGF0YSBmb3IgdHJhaW5pbmciCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRhdGFfdmFsaWRhdGlvbiA9IGNvbnRhaW5lciAiRGF0YSB2YWxpZGF0aW9uIiAiVmFsaWRhdGUgZGF0YSAoaWYgYWNjdXJhdGUsIGNvbXBsZXRlKSBiZWZvcmUgdXNpbmcgZm9yIHRyYWluaW5nIG9yIGluZmVyZW5jZSIgImRhdGFiYXNlIgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIG1vZGVsX21vbml0b3IgPSBjb250YWluZXIgIk1vZGVsIG1vbml0b3JpbmciICJ0cmFjayB0aGUgcGVyZm9ybWFuY2Ugb2YgbW9kZWxzIGluIHByb2R1Y3Rpb24iICIiCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRyaWZ0X2RldGVjdGlvbiA9IGNvbnRhaW5lciAiRHJpZnQgZGV0ZWN0aW9uIiAiRGV0ZWN0cyBkcmlmdHMgaW4gbW9kZWwgcGVyZm9ybWFuY2UiCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZlZWRiYWNrX2xvb3AgPSBjb250YWluZXIgIkZlZWRiYWNrIGxvb3AiICJEZXRlcm1pbmVzIHdoZW4gdG8gdHJpZ2dlciBhIG5ldyB0cmFpbmluZyBqb2IiICJEUyIKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZGVwbG95bWVudF93b3JrZmxvdyA9IGNvbnRhaW5lciAiRGVwbG95bWVudCB3b3JrZmxvdyIgIkRlcGxveSB0aGUgbmV3bHkgdHJhaW5lZCBtb2RlbCB0byBwcm9kdWN0aW9uIiAicGlwZWxpbmUiCiAgICAgICAgICAgICAgICAjIHByb2R1Y3Rpb24gPSBjb250YWluZXIgIlByb2R1Y3Rpb24gc3RhZ2UiICJUaGUgZW52aXJvbm1lbnQgd2hlcmUgdGhlIG1vZGVsIGlzIHVzZWQgZm9yIGluZmVyZW5jZSIKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZGF0YV9wcmVwcm9jIC0+IGRhdGFfdmFsaWRhdGlvbiAiVmFsaWRhdGUgdGhlIHByZXBhcmVkIGRhdGEiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIG9yY2hlc3RyYXRpb24gPSBzb2Z0d2FyZVN5c3RlbSAiUGFhUyBPcmNoZXN0cmF0aW9uIGFuZCBwcm92aXNpb25pbmciICJBbGxvd3MgUGFhUyBvcGVyYXRvcnMgdG8gbWFuYWdlIFBhYVMgZGVwbG95bWVudHMgYW5kIHJlc291cmNlcy4iIHsKICAgICAgICAgICAgICAgIHBhYXNfZGFzaGJvYXJkID0gY29udGFpbmVyICJQYWFTIERhc2hib2FyZCIgIldlYiBVc2VyIEludGVyZmFjZSB0aGF0IGFsbG93cyB0byBlYXNpbHkgaW50ZXJhY3Qgd2l0aCB0aGUgUGFhUyBzZXJ2aWNlcyIgIkZsYXNrIiAiZGFzaGJvYXJkIgoKICAgICAgICAgICAgICAgIHBhYXNfb3JjaGVzdHJhdG9yID0gY29udGFpbmVyICJQYWFTIE9yY2hlc3RyYXRvciIgIiIgIklORElHTyBQYWFTIE9yY2hlc3RyYXRvciIKCiAgICAgICAgICAgICAgICBmZWRlcmF0ZWRfc2VydmljZV9jYXRhbG9ndWUgPSBjb250YWluZXIgIkZlZGVyYXRlZCBTZXJ2aWNlIENhdGFsb2d1ZSIgIlByb3ZpZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBhdmFpbGFibGUgY2FwYWJpbGl0aWVzIG9mZmVyZWQgYnkgdGhlIHJlc291cmNlIChjb21wdXRlIGFuZCBkYXRhKSBwcm92aWRlcnMiIAoKICAgICAgICAgICAgICAgIG1vbml0b3Jpbmdfc3lzdGVtID0gY29udGFpbmVyICJNb25pdG9yaW5nICYgTWV0ZXJpbmcgU3lzdGVtIiAiR2F0aGVycyBtZXRyaWNzIGZyb20gdGhlIGRpZmZlcmVudCBzZXJ2aWNlcyAoc3RhdHVzLCByZXNvdXJjZSBhdmFpbGFiaWx0eSwgcGVyZm9ybWFuY2UsIGV0Yy4pIgoKICAgICAgICAgICAgICAgIGNsb3VkX3Byb3ZpZGVyX3JhbmtlciA9IGNvbnRhaW5lciAiQ2xvdWQgUHJvdmlkZXIgUmFua2VyIiAiUmV0dXJucyB0aGUgc2VydmljZS9yZXNvdXJjZSBvZmZlcnMgdGhhdCBiZXN0IGZpdCB0aGUgZGVwbG95bWVudCByZXF1aW1lbnRzIgoKICAgICAgICAgICAgICAgIGltID0gY29udGFpbmVyICJJbmZyYXN0cnVjdHVyZSBNYW5hZ2VyIgoKICAgICAgICAgICAgICAgIHRvc2NhX3JlcG8gPSBjb250YWluZXIgIlRvcG9sb2dpZXMgcmVwb3NpdG9yeSIgIiIgIlRPU0NBIiAicmVwb3NpdG9yeSIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGVlcGFhcyA9IHNvZnR3YXJlU3lzdGVtICJBSSBhcyBhIFNlcnZpY2UiICJBbGxvd3MgdXNlcnMgdG8gZGVwbG95IGFuIEFJIGFwcGxpY2F0aW9uIGFzIGEgc2VydmljZS4iIHsKICAgICAgICAgICAgICAgIGFpNGNvbXBvc2UgPSBjb250YWluZXIgIkFJNENvbXBvc2UiCiAgICAgICAgICAgICAgICBPU0NBUlN5c3RlbSA9IGdyb3VwICJPU0NBUiJ7CiAgICAgICAgICAgICAgICAgICAgT1NDQVIgPSBjb250YWluZXIgIk9TQ0FSIE1hbmFnZXIiIAogICAgICAgICAgICAgICAgICAgIEt1YmVybmV0ZXMgPSBjb250YWluZXIgIkt1YmVybmV0ZXMgQVBJIiAKICAgICAgICAgICAgICAgICAgICBNaW5JTyA9IGNvbnRhaW5lciAiTWluSU8iIAogICAgICAgICAgICAgICAgICAgIEtuYXRpdmUgPSBjb250YWluZXIgIktuYXRpdmUiIAogICAgICAgICAgICAgICAgICAgIEZhYVNTID0gY29udGFpbmVyICJGYWFTIFN1cGVydmlzb3IiIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBzdG9yYWdlID0gc29mdHdhcmVTeXN0ZW0gIlN0b3JhZ2UgU2VydmljZXMiICJFeHRlcm5hbCBzdG9yYWdlIHdoZXJlIGRhdGEgYXNzZXRzIGFyZSBzdG9yZWQuIiAiZXh0ZXJuYWwiIHsKICAgICAgICAgICAgRVNQID0gZ3JvdXAgIkV4dGVybmFsIFN0b3JhZ2UgUHJvdmlkZXIiewogICAgICAgICAgICAgICAgczMgPSBjb250YWluZXIgIkFtYXpvbiBTMyIKICAgICAgICAgICAgICAgIE1pbklPRXh0ZXJuYWwgPSBjb250YWluZXIgIk1pbklPIEV4dGVybmFsIgogICAgICAgICAgICAgICAgb25lRGF0YSA9IGNvbnRhaW5lciAiT25lZGF0YSIKICAgICAgICAgICAgICAgIGRjYWNoZSA9IGNvbnRhaW5lciAiZENhY2hlIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNsb3VkX3Byb3ZpZGVycyA9IHNvZnR3YXJlU3lzdGVtICJDbG91ZC9IUEMgUHJvdmlkZXJzIiAiIiBleHRlcm5hbAoKICAgICAgICBlbmRfdXNlciA9IHBlcnNvbiAiVXNlciIgIkFuIGVuZC11c2VyLCB3aWxsaW5nIHRvIGV4cGxvaXQgZXhpc3RpbmcgcHJvZHVjdGlvbiBtb2RlbHMuIgoKICAgICAgICAjIFVzZXIgLSBzeXN0ZW0gaW50ZXJhY3Rpb24KICAgICAgICBlb3NjX3VzZXIgLT4gYWk0ZW9zY19wbGF0Zm9ybSAiUmV1c2UsIGRldmVsb3AsIHB1Ymxpc2ggbmV3IEFJIG1vZGVscyIKICAgICAgICBwYWFzX29wcyAtPiBvcmNoZXN0cmF0aW9uICJNYW5hZ2UgUGFhUyByZXNvdXJjZXMgYW5kIGRlcGxveW1lbnRzIgogICAgICAgIGVuZF91c2VyIC0+IGRlZXBhYXMgIlVzZXMgZGVwbG95ZWQgbW9kZWxzIGZyb20iCiAgICAgICAgLyogZW9zY191c2VyIC0+IGRlZXBhYXMgIkRlcGxveSBtb2RlbHMgYXMgc2VydmljZXMiICovCgogICAgICAgICMgU3lzdGVtIC0gc3lzdGVtIGludGVyYWN0aW9uCiAgICAgICAgb3JjaGVzdHJhdGlvbiAtPiBhaTRlb3NjX3BsYXRmb3JtICJDcmVhdGVzIFBhYVMgZGVwbG95bWVudHMgYW5kIHByb3Zpc2lvbnMgcmVzb3VyY2VzIGZvciIKICAgICAgICBvcmNoZXN0cmF0aW9uIC0+IGRlZXBhYXMgIlByb3Zpc2lvbnMgcmVzb3VyY2VzIGZvciIKICAgICAgICBhaTRlb3NjX3BsYXRmb3JtIC0+IHN0b3JhZ2UgIkNvbnN1bWVzIGRhdGEgZnJvbSIKICAgICAgICBhaTRlb3NjX3BsYXRmb3JtIC0+IGFhaSAiSXMgaW50ZWdyYXRlZCB3aXRoIgogICAgICAgIC8qIGFpNGVvc2NfcGxhdGZvcm0gLT4gcG9ydGFsICJJcyBpbnRlZ3JhdGVkIHdpdGgiICovCiAgICAgICAgYWk0ZW9zY19wbGF0Zm9ybSAtPiBkZWVwYWFzICJEZXBsb3kgbW9kZWxzIG9uIgoKICAgICAgICBtbG9wcyAtPiBkZWVwYWFzICJNb25pdG9ycyBwcm9kdWN0aW9uIG1vZGVsIgogICAgICAgIG1sb3BzIC0+IGFpNGVvc2NfcGxhdGZvcm0gIlRyaWdnZXJzIG1vZGVsIHVwZGF0ZS9yZXRyYWluaW5nIgoKCiAgICAgICAgIyBBSTRFT1NDIHBsYXRmb3JtCgogICAgICAgIGVvc2NfdXNlciAtPiBkYXNoYm9hcmQgIkJyb3dzZSBtb2RlbHMsIHRyYWluIGV4aXN0aW5nIG1vZGVsLCBidWlsZCBuZXcgb25lLiIKCiAgICAgICAgIyBUcmFpbmluZyAKICAgICAgICBlb3NjX3VzZXIgLT4gZGV2ICJBY2Nlc3MgaW50ZXJhY3RpdmUgZW52aXJvbm1lbnRzIgoKICAgICAgICBkYXNoYm9hcmQgLT4gdHJhaW5pbmdfYXBpICJEZWZpbmUgbmV3IHRyYWluaW5ncywgY2hlY2sgdHJhaW5pbmcgc3RhdHVzLCBldGMuICIKCiAgICAgICAgdHJhaW5pbmdfYXBpIC0+IGNvZSAiQ3JlYXRlIHRyYWluaW5nIGpvYiwgaW50ZXJhY3RpdmUgZW52aXJvbm1lbnQgdXNpbmcgQVBJIGNhbGxzIHRvIgogICAgICAgIHRyYWluaW5nX2FwaSAtPiB0cmFpbmluZ19kYiAiU3RvcmVzIHRyYWluaW5nIGRhdGEgaW4iCiAgICAgICAgdHJhaW5pbmdfYXBpIC0+IG1vZGVsX2NvbnRhaW5lciAiUXVlcmllcyB0cmFpbmluZyBzdGF0dXMiCgogICAgICAgIGNvZSAtPiByZXNvdXJjZXMgIkNyZWF0ZSBuZXcgdGFzay93b3JrbG9hZCIKCiAgICAgICAgcmVzb3VyY2VzIC0+IGRldiAiQ3JlYXRlIG9uLWRlbWFuZCBlbnZpcm9ubWVudHMiCiAgICAgICAgcmVzb3VyY2VzIC0+IG1vZGVsX2NvbnRhaW5lciAiRXhlY3V0ZXMgdXNlciBtb2RlbCBpbiBhIgoKICAgICAgICBjb2UgLT4gZmVkZXJhdGVkX3NlcnZlciAiQ3JlYXRlcyIKICAgICAgICBtb2RlbF9jb250YWluZXIgLT4gZmVkZXJhdGVkX3NlcnZlciAiR2V0cyB1cGRhdGVkIG1vZGVsLCBzZW5kcyBuZXcgd2VpZ2h0cyIKICAgICAgICB0cmFpbmluZ19hcGkgLT4gZmVkZXJhdGVkX3NlcnZlciAiTWFuYWdlcyBmZWRlcmF0ZWQgbGVhcm5pbmcgcm91bmRzIgoKICAgICAgICAvKiBlb3NjX3VzZXIgLT4gbW9kZWxfY29udGFpbmVyICJUcmlnZ2VyIG5ldyB0cmFpbmluZyBqb2JzIiAqLwoKICAgICAgICBleGNoYW5nZV9hcGkgLT4gaWFtICJBdXRoZW50aWNhdGVzIHVzZXJzIHdpdGgiCiAgICAgICAgdHJhaW5pbmdfYXBpIC0+IGlhbSAiQXV0aGVudGljYXRlcyB1c2VycyB3aXRoIgogICAgICAgIGRhc2hib2FyZCAtPiBpYW0gIkF1dGhlbnRpY2F0ZXMgdXNlcnMgd2l0aCIgCiAgICAgICAgICAgIAogICAgICAgIGRldiAtPiBzdG9yYWdlICJSZWFkIGRhdGEgZnJvbSIKICAgICAgICBtb2RlbF9jb250YWluZXIgLT4gc3RvcmFnZSAiUmVhZCBkYXRhIGZyb20iCgogICAgICAgICMgVXNlciBtYW5hZ2VtZW50CgogICAgICAgIHBvcnRhbCAtPiBvcmRlciAiQ3JlYXRlcyBuZXcgb3JkZXIvcmVxdWVzdCBmb3Igc2VydmljZXMiCiAgICAgICAgaWFtIC0+IGFhaSAiRmVkZXJhdGUgdXNlcnMgZnJvbSIgIk9wZW5JRCBDb25uZWN0IgogICAgICAgIG9yZGVyIC0+IGlhbSAiQ3JlYXRlcyBuZXcgdXNlcnMgZm9yIG5ldyBvcmRlcnMiCiAgICAgICAgCgogICAgICAgICMgQUk0RU9TQyBleGNoYW5nZQogICAgICAgIC8qIGVvc2NfdXNlciAtPiBleGNoYW5nZV9hcGkgIlJlZ2lzdGVyIG5ldyBtb2RlbCIgKi8KICAgICAgICBkYXNoYm9hcmQgLT4gZXhjaGFuZ2VfYXBpICJSZWFkcyBhdmFpbGFibGUgbW9kZWxzIGZyb20iCgogICAgICAgIGV4Y2hhbmdlX2FwaSAtPiBkYXRhX3JlcG8gIlJlYWRzIGZyb20iCiAgICAgICAgZXhjaGFuZ2VfYXBpIC0+IG1vZGVsX3JlcG8gIlJlYWRzIGZyb20iCiAgICAgICAgZXhjaGFuZ2VfYXBpIC0+IGNvbnRhaW5lcl9yZXBvICJSZWFkcyBmcm9tIgoKICAgICAgICBlb3NjX3VzZXIgLT4gZGF0YV9yZXBvICJSZWdpc3RlcnMgZGF0YSIKICAgICAgICBlb3NjX3VzZXIgLT4gbW9kZWxfcmVwbyAiUmVnaXN0ZXJzIG1vZGVsIgogICAgICAgIGVvc2NfdXNlciAtPiBjb250YWluZXJfcmVwbyAiUmVnaXN0ZXJzIGNvbnRhaW5lciIKCiAgICAgICAgY2kgLT4gZGF0YV9yZXBvICJFbnN1cmVzIFFBIGFzcGVjdHMiCiAgICAgICAgY2kgLT4gbW9kZWxfcmVwbyAiRW5zdXJlcyBRQSBhc3BlY3RzIgogICAgICAgIAoKICAgICAgICBjZCAtPiBtb2RlbF9yZXBvICJSZWFjdHMgdG8gZXZlbnRzIGZyb20iCiAgICAgICAgY2QgLT4gY29udGFpbmVyX3JlcG8gIkNyZWF0ZXMgY29udGFpbmVycyIKICAgICAgICBjZCAtPiBkZWVwYWFzICJEZXBsb3lzIG1vZGVscyBvbiIKCiAgICAgICAgZGF0YV9yZXBvIC0+IHN0b3JhZ2UgIlJlZmVycyB0byBkYXRhIHN0b3JlZCBpbiIKCiAgICAgICAgZXhjaGFuZ2VfYXBpIC0+IGV4Y2hhbmdlX2RiICJSZWFkcyBmcm9tIHdyaXRlcyB0byIKCiAgICAgICAgbW9kZWxfY29udGFpbmVyIC0+IGNvbnRhaW5lcl9yZXBvICJTdG9yZWQgaW4iCgogICAgICAgIG9yY2hlc3RyYXRpb24gLT4gcmVzb3VyY2VzICJQcm92aXNpb25zIgoKICAgICAgICBtbG9wcyAtPiB0cmFpbmluZ19hcGkgIlRyaWdnZXIgbW9kZWwgdXBkYXRlL3JldHJhaW5pbmciCiAgICAgICAgbWxvcHMgLT4gZGF0YV9yZXBvICJNb25pdG9yIG5ldyBkYXRhIGF2YWlsYWJsZSwgdXBkYXRlIG1vZGVsIGFmdGVyIHRyYWluaW5nIgogICAgICAgIG1sb3BzIC0+IGNkICJUcmlnZ2VyIG1vZGVsIHVwZGF0ZSIKCiAgICAgICAgLyogIyAjTUxPcHMgLS1uZXcgZGF0YSBhdmFpbGFibGUgKi8KICAgICAgICBkYXRhX3ByZXByb2MgLT4gZGF0YV9yZXBvICJSZWFkIGRhdGFzZXRzIG9yIG5ldyBtb2RlbCB1cGRhdGVzIGZyb20iIAogICAgICAgIC8qIC8xKiBjaSAtPiBkYXRhX3ZhbGlkYXRpb24gImludGVncmF0ZSB2YWxpZGF0ZWQgZGF0YSIgKjEvICovCgogICAgICAgIC8qIC8xKiBtb2RlbF9jb250YWluZXIgLT4gY29udGFpbmVyX3JlcG8gIlB1bGxzIHRyYWluZWQgbW9kZWwgZnJvbSByZWdpc3RyeSIgKjEvICovCiAgICAgICAgLyogbW9kZWxfY29udGFpbmVyIC0+IG9zY2FyICJMb2FkcyBtb2RlbCBpbnRvIGluZmVyZW5jZSBzZXJ2aWNlIiAqLwogICAgICAgIC8qIC8xKiBvc2NhciAtPiBtb2RlbF9jb250YWluZXIgIlJlY2VpdmVzIHByZWRpY3Rpb24gcmVxdWVzdHMiICoxLyAqLwoKICAgICAgICAvKiAjTUxPcHMgLS1hIG5ldyB0cmFpbmVkIG1vZGVsICovCiAgICAgICAgZGVwbG95bWVudF93b3JrZmxvdyAtPiBjZCAiVHJpZ2dlciB1cGRhdGUgb2YgbW9zdCByZWNlbnQgbW9kZWwiCgoKICAgICAgICAvKiAjbWxvcHMgb3RoZXIgcmVsYXRpb25zaGlwcyAqLwogICAgICAgIC8qIC8xKiBkYXRhX3JlcG8gLT4gZGF0YV92YWxpZGF0aW9uICJTZW5kcyBkYXRhIGZvciB2YWxpZGF0aW9uIiAqMS8gKi8KICAgICAgICBkYXRhX3ZhbGlkYXRpb24gLT4gZHJpZnRfZGV0ZWN0aW9uICJTZW5kcyB2YWxpZGF0ZWQgZGF0YSBmb3IgbW9uaXRvcmluZyIKICAgICAgICBkcmlmdF9kZXRlY3Rpb24gLT4gZmVlZGJhY2tfbG9vcCAiVHJpZ2dlcnMgbW9kZWwgcmV0cmFpbmluZyIKICAgICAgICBmZWVkYmFja19sb29wIC0+IHRyYWluaW5nX2FwaSAiU3RhcnRzIG1vZGVsIHJldHJhaW5pbmciCiAgICAgICAgZmVlZGJhY2tfbG9vcCAtPiBkZXBsb3ltZW50X3dvcmtmbG93ICJOb3RpZmllcyBvZiBtb2RlbCByZXRyYWluaW5nIgoKICAgICAgICBkcmlmdF9kZXRlY3Rpb24gLT4gb3NjYXIgIk1vbml0b3IgZGVwbG95ZWQgbW9kZWwiCiAgICAgICAgLyogdHJhaW5pbmdfYXBpIC0+IGRlcGxveW1lbnRfd29ya2Zsb3cgIkRlcGxveXMgbmV3IG1vZGVsIiAqLwogICAgICAgIC8qIGRlcGxveW1lbnRfd29ya2Zsb3cgLT4gb3NjYXIgIlVwZGF0ZXMgbW9kZWwgaW4gcHJvZHVjdGlvbiIgKi8KCiAgICAgICAgLyogdHJhaW5pbmdfYXBpIC0+IGRyaWZ0X2RldGVjdGlvbiAiUmVjZWl2ZXMgbW9kZWwgcGVyZm9ybWFuY2UgbWV0cmljcyIgKi8KICAgICAgICAvKiBkYXRhX3ZhbGlkYXRpb24gLT4gdHJhaW5pbmdfYXBpICJTZW5kcyB2YWxpZGF0ZWQgZGF0YSBmb3IgbW9uaXRvcmluZyIgKi8KICAKICAgICAgICAjICAgICBtb2RlbF9tb25pdG9yIC0+IGRhc2hib2FyZCAiTW9uaXRvcnMgbW9kZWwgcGVyZm9ybWFuY2UiCiAgICAgICAgIyAgICAgZGFzaGJvYXJkIC0+IG1vZGVsX21vbml0b3IgIlJlY2VpdmVzIHBlcmZvcm1hbmNlIG1ldHJpY3MiCgogICAgICAgICMgT3JjaGVzdHJhdGlvbgoKICAgICAgICBwYWFzX29wcyAtPiBwYWFzX2Rhc2hib2FyZCAiTWFuYWdlcyBBSTRFT1NDIFBhYVMgZGVwbG95bWVudHMiCiAgICAgICAgcGFhc19kYXNoYm9hcmQgLT4gcGFhc19vcmNoZXN0cmF0b3IgIkNyZWF0ZSBkZXBsb3ltZW50IgogICAgICAgIHBhYXNfZGFzaGJvYXJkIC0+IHRvc2NhX3JlcG8gIlJlYWQgdG9wb2xvZ2llcyIKICAgICAgICBwYWFzX29yY2hlc3RyYXRvciAtPiB0b3NjYV9yZXBvICJSZWFkIHRvcG9sb2dpZXMiCiAgICAgICAgcGFhc19vcmNoZXN0cmF0b3IgLT4gaW0gIlVzZXMiCiAgICAgICAgcGFhc19vcmNoZXN0cmF0b3IgLT4gZmVkZXJhdGVkX3NlcnZpY2VfY2F0YWxvZ3VlICJHZXQgaW5mb3JtYXRpb24iCiAgICAgICAgbW9uaXRvcmluZ19zeXN0ZW0gLT4gZmVkZXJhdGVkX3NlcnZpY2VfY2F0YWxvZ3VlICJTZW5kIGFnZ3JlZ2F0ZWQgbWV0cmljcyIKICAgICAgICBwYWFzX29yY2hlc3RyYXRvciAtPiBjbG91ZF9wcm92aWRlcl9yYW5rZXIgIkdldCBtYXRjaGluZyBvZmZlcnMiCgogICAgICAgIC8qIHBhYXNfb3JjaGVzdHJhdG9yIC0+IGlhbSAiQXV0aGVudGljYXRlcyB1c2VycyB3aXRoIiAqLwogICAgICAgIC8qIGltIC0+IGlhbSAiQXV0aE4vWiIgKi8KCiAgICAgICAgcGFhc19vcmNoZXN0cmF0b3IgLT4gcmVzb3VyY2VzICJQcm92aXNpb25zIHJlc291cmNlcyBmb3IiCiAgICAgICAgY2xvdWRfcHJvdmlkZXJzIC0+IHJlc291cmNlcyAib2ZmZXIiCiAgICAgICAgY2xvdWRfcHJvdmlkZXJzIC0+IGZlZGVyYXRlZF9zZXJ2aWNlX2NhdGFsb2d1ZSAicmVnaXN0ZXIvdXBkYXRlIHNlcnZpY2UgJiByZXNvdXJjZXMgbWV0YWRhdGEiCiAgICAgICAgY2xvdWRfcHJvdmlkZXJzIC0+IG1vbml0b3Jpbmdfc3lzdGVtICJwdXNoL3B1bGwgbWV0cmljcyIKCiAgICAgICAgcGFhc19vcmNoZXN0cmF0b3IgLT4gcmVzb3VyY2VzICJQcm92aXNpb25zIHJlc291cmNlcyBmb3IiCiAgICAgICAgcGFhc19vcmNoZXN0cmF0b3IgLT4gS25hdGl2ZSAiUHJvdmlzaW9ucyByZXNvdXJjZXMgZm9yIiAKICAgICAgICBwYWFzX29yY2hlc3RyYXRvciAtPiBPU0NBUiAiUHJvdmlzaW9ucyByZXNvdXJjZXMgZm9yIiAKCiAgICAgICAgIyBERUVQYWFTIE9TQ0FSCiAgICAgICAgYWk0Y29tcG9zZSAtPiBPU0NBUiAiVHJpZ2dlciBpbmZlcmVuY2UiCiAgICAgICAgT1NDQVIgLT4gTWluSU8gIk1hbmFnZSBidWNrZXRzLCBmb2xkZXJzLCBldmVudCBhbmQgbm90aWZpY2F0aW9ucyIKICAgICAgICBPU0NBUiAtPiBLdWJlcm5ldGVzICJNYW5hZ2Ugc2VydmljZXMiCiAgICAgICAgT1NDQVIgLT4gS25hdGl2ZSAiRXhlY3V0ZSBzZXJ2aWNlcyBzeW5jaHJvbm91c2x5IgogICAgICAgIEtuYXRpdmUgLT4gRmFhU1MgIkFzc2lnbiB0byBmdW5jdGlvbidzIHBvZChzKSIKICAgICAgICBLdWJlcm5ldGVzIC0+IEZhYVNTICJDcmVhdGUgam9icyIKICAgICAgICBGYWFTUyAtPiBNaW5JTyAiRG93bmxvYWQgaW5wdXQuIFVwbG9hZCBvdXRwdXQiCiAgICAgICAgRmFhU1MgLT4gc3RvcmFnZSAiUmVhZC9zdG9yZSBkYXRhIgogICAgICAgIEZhYVNTIC0+IHMzICJSZWFkL3N0b3JlIGRhdGEiCiAgICAgICAgRmFhU1MgLT4gTWluSU9FeHRlcm5hbCAiUmVhZC9zdG9yZSBkYXRhIgogICAgICAgIEZhYVNTIC0+IG9uZURhdGEgIlJlYWQvc3RvcmUgZGF0YSIKICAgICAgICBGYWFTUyAtPiBkY2FjaGUgIlJlYWQvc3RvcmUgZGF0YSIKCiAgICAgICAgLyogZW9zY191c2VyIC0+IE9TQ0FSICJSZXF1ZXN0cyB0aGUgZGVwb3ltZW50IG9mIGluZmVyZW5jZSBzZXJ2aWNlcyIgKi8KCiAgICAgICAgYWk0ZW9zY19wbGF0Zm9ybSAtPiBPU0NBUiAiRGVwbG95bWVudCBvciB1cGRhdGUgb2YgaW5mZXJlbmNlIHNlcnZpY2VzIgogICAgICAgIGVuZF91c2VyIC0+IE9TQ0FSICJTeW5jaHJvbm91cyBpbmZlcmVuY2UgcmVxdWVzdCIKICAgICAgICBlbmRfdXNlciAtPiBNaW5JTyAiU3RvcmUgZGF0YSBmb3IgYXN5bmNocm9ub3VzIGluZmVyZW5jZSIKICAgICAgICAKICAgICAgICBkZXBsb3ltZW50RW52aXJvbm1lbnQgIlByb2R1Y3Rpb24iIHsKICAgICAgICAgICAgaWZjYV9pbnN0YW5jZSA9IGRlcGxveW1lbnRHcm91cCAiSUZDQSBDbG91ZCBJbnN0YW5jZSIKICAgICAgICAgICAgaWlzYXNfaW5zdGFuY2UgPSBkZXBsb3ltZW50R3JvdXAgIklJU0FTIENsb3VkIgogICAgICAgICAgICBjbmFmX2luc3RhbmNlID0gZGVwbG95bWVudEdyb3VwICJJTkZOLUNOQUYgQ2xvdWQiCiAgICAgICAgICAgIGJhcmlfaW5zdGFuY2UgPSBkZXBsb3ltZW50R3JvdXAgIklORk4tQkFSSSBDbG91ZCIKICAgICAgICAgICAgaW5jZF9pbnN0YW5jZSA9IGRlcGxveW1lbnRHcm91cCAiSU5DRCBDbG91ZCIKICAgICAgICAgICAgbm9tYWRfY2x1c3RlciA9IGRlcGxveW1lbnRHcm91cCAiTm9tYWQgQ2x1c3RlciIKICAgICAgICAgICAgZ2xvYmFsID0gZGVwbG95bWVudEdyb3VwICJHbG9iYWwgZGVwbG95bWVudCIKICAgICAgICAgICAgZmVkZXJhdGVkID0gZGVwbG95bWVudEdyb3VwICJGTCBkZXBsb3ltZW50IgoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkdpdEh1YiAvIEdpdGxhYiIgewogICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgbW9kZWxfcmVwbyBnbG9iYWwKICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGRhdGFfcmVwbyAgZ2xvYmFsCiAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSB0b3NjYV9yZXBvIGdsb2JhbAogICAgICAgICAgICB9CgogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiRG9ja2VySHViIiB7CiAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBjb250YWluZXJfcmVwbyBnbG9iYWwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIklGQ0EtQ1NJQyIgewogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIklGQ0EgQ2xvdWQiICIiICJPcGVuU3RhY2siIHsKICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiZGFzYm9hcmQuYWk0ZW9zYy5ldSIgIiIgIm5naW54IiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGRhc2hib2FyZCBnbG9iYWwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkFJNCBDb250cm9sIHBhbmUiICIiICJLdWJlcm5ldGVzIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGV4Y2hhbmdlX2FwaSBnbG9iYWwKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgZXhjaGFuZ2VfZGIgIGdsb2JhbAogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSB0cmFpbmluZ19hcGkgZ2xvYmFsLG5vbWFkX2NsdXN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgdHJhaW5pbmdfZGIgIGdsb2JhbAoKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgY2kgICAgICAgICAgIGdsb2JhbAogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBjZCAgICAgICAgICAgZ2xvYmFsCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAidm0qLmNsb3VkLmlmY2EuZXMiICIiICIiICIiIDEwMCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGNvZSAgICAgICAgICAgICAgIG5vbWFkX2NsdXN0ZXIsaWZjYV9pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSByZXNvdXJjZXMgICAgICAgICBpZmNhX2luc3RhbmNlCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIG1vZGVsX2NvbnRhaW5lciAgIGlmY2FfaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgZGV2ICAgICAgICAgICAgICAgaWZjYV9pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBmZWRlcmF0ZWRfc2VydmVyICBpZmNhX2luc3RhbmNlLGZlZGVyYXRlZAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJJSVNBUyIgewogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImNsb3VkLnVpLnNhdi5zayIgIHsKICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAidm0qIiAiIiAiIiAiIiAxMCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlpc2FzX2NvZSA9IGNvbnRhaW5lckluc3RhbmNlIGNvZSAgICAgICAgICAgICAgICAgICBpaXNhc19pbnN0YW5jZSxub21hZF9jbHVzdGVyCiAgICAgICAgICAgICAgICAgICAgICAgIGlpc2FzX3Jlc291cmNlcyA9IGNvbnRhaW5lckluc3RhbmNlIHJlc291cmNlcyAgICAgICBpaXNhc19pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBpaXNhc19jb250YWluZXIgPSBjb250YWluZXJJbnN0YW5jZSBtb2RlbF9jb250YWluZXIgaWlzYXNfaW5zdGFuY2UsZmVkZXJhdGVkCiAgICAgICAgICAgICAgICAgICAgICAgIGlpc2FzX2RldiA9IGNvbnRhaW5lckluc3RhbmNlIGRldiAgICAgICAgICAgICAgICAgICBpaXNhc19pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIklORk4tQ05BRiIgewogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImNsb3VkLmNuYWYuaW5mbi5pdCIgIHsKICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiaWFtLmFpNGVvc2MuZXUiICIiICJuZ2lueCIgewogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBpYW0gICBnbG9iYWwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLyogZGVwbG95bWVudE5vZGUgInZtKiIgIiIgIiIgIiIgMTAgeyAqLwogICAgICAgICAgICAgICAgICAgIC8qICAgICBjbmFmX2NvZSA9IGNvbnRhaW5lckluc3RhbmNlIGNvZSAgICAgICAgICAgICAgICAgICAgY25hZl9pbnN0YW5jZSAqLwogICAgICAgICAgICAgICAgICAgIC8qICAgICBjbmFmX3Jlc291cmNlcyA9IGNvbnRhaW5lckluc3RhbmNlIHJlc291cmNlcyAgICAgICAgY25hZl9pbnN0YW5jZSAqLwogICAgICAgICAgICAgICAgICAgIC8qICAgICBjbmFmX2NvbnRhaW5lciA9IGNvbnRhaW5lckluc3RhbmNlIG1vZGVsX2NvbnRhaW5lciAgY25hZl9pbnN0YW5jZSAqLwogICAgICAgICAgICAgICAgICAgIC8qICAgICBjbmFmX2RldiA9IGNvbnRhaW5lckluc3RhbmNlIGRldiAgICAgICAgICAgICAgICAgICAgY25hZl9pbnN0YW5jZSAqLwogICAgICAgICAgICAgICAgICAgIC8qIH0gKi8KICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQUk0IENvbnRyb2wgcGFuZSIgIiIgIkt1YmVybmV0ZXMiIHsKICAgICAgICAgICAgICAgICAgICAgICAgY25hZl9lYXBpID0gY29udGFpbmVySW5zdGFuY2UgZXhjaGFuZ2VfYXBpICAgY25hZl9pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBjbmFmX2VkYiA9IGNvbnRhaW5lckluc3RhbmNlIGV4Y2hhbmdlX2RiICAgICBjbmFmX2luc3RhbmNlCiAgICAgICAgICAgICAgICAgICAgICAgIGNuYWZfdGFwaSA9IGNvbnRhaW5lckluc3RhbmNlIHRyYWluaW5nX2FwaSAgIGNuYWZfaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgICAgICAgY25hZl90ZGIgPSBjb250YWluZXJJbnN0YW5jZSB0cmFpbmluZ19kYiAgICAgY25hZl9pbnN0YW5jZQoKICAgICAgICAgICAgICAgICAgICAgICAgY25hZl9jaSA9IGNvbnRhaW5lckluc3RhbmNlIGNpICAgICAgICAgICAgICAgY25hZl9pbnN0YW5jZQogICAgICAgICAgICAgICAgICAgICAgICBjbmFmX2NkID0gY29udGFpbmVySW5zdGFuY2UgY2QgICAgICAgICAgICAgICBjbmFmX2luc3RhbmNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiSU5GTi1CQVJJIiB7CiAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiY2xvdWQuYmEuaW5mbi5pdCIgIHsKICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAidm0qIiAiIiAiIiAiIiAxMCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhcmlfY29lID0gY29udGFpbmVySW5zdGFuY2UgY29lICAgICAgICAgICAgICAgICAgICBiYXJpX2luc3RhbmNlLG5vbWFkX2NsdXN0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgYmFyaV9yZXNvdXJjZXMgPSBjb250YWluZXJJbnN0YW5jZSByZXNvdXJjZXMgICAgICAgIGJhcmlfaW5zdGFuY2UKICAgICAgICAgICAgICAgICAgICAgICAgYmFyaV9jb250YWluZXIgPSBjb250YWluZXJJbnN0YW5jZSBtb2RlbF9jb250YWluZXIgIGJhcmlfaW5zdGFuY2UsZmVkZXJhdGVkCiAgICAgICAgICAgICAgICAgICAgICAgIGJhcmlfZGV2ID0gY29udGFpbmVySW5zdGFuY2UgZGV2ICAgICAgICAgICAgICAgICAgICBiYXJpX2luc3RhbmNlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJwYWFzLmFpNGVvc2MuZXUiICIiICJuZ2lueCIgewogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBwYWFzX2Rhc2hib2FyZCAgICAgICAgICAgICAgICBnbG9iYWwKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgcGFhc19vcmNoZXN0cmF0b3IgICAgICAgICAgICAgZ2xvYmFsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGltCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckluc3RhbmNlIGZlZGVyYXRlZF9zZXJ2aWNlX2NhdGFsb2d1ZSAgIGdsb2JhbAogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBtb25pdG9yaW5nX3N5c3RlbSAgICAgICAgICAgICBnbG9iYWwKICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySW5zdGFuY2UgY2xvdWRfcHJvdmlkZXJfcmFua2VyICAgICAgICAgZ2xvYmFsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiRXh0ZXJuYWwgcmVzb3VyY2VzIiB7CiAgICAgICAgICAgICAgICBjb250YWluZXJJbnN0YW5jZSBleHRlcm5hbF9jb250YWluZXIgZmVkZXJhdGVkCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgdmlld3MgewogICAgICAgIHRoZW1lIERlZmF1bHQKCiAgICAgICAgdGVybWlub2xvZ3kgewogICAgICAgICAgICBlbnRlcnByaXNlICJQcm9qZWN0IgogICAgICAgIH0KCiAgICAgICAgYnJhbmRpbmcgewogICAgICAgICAgICAvKiBsb2dvICJsb2dvLnBuZyIgKi8KICAgICAgICAgICAgZm9udCAiUm9ib3RvIiAiaHR0cDovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9Um9ib3RvIgogICAgICAgIH0KCiAgICAgICAgCiAgICAgICAgc3lzdGVtTGFuZHNjYXBlIHN5c3RlbV92aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgfQoKICAgICAgICBzeXN0ZW1Db250ZXh0IGFpNGVvc2NfcGxhdGZvcm0gYWk0ZW9zY192aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgICAgIGV4Y2x1ZGUgImVvc2NfdXNlciAtPiBkYXRhX3JlcG8iCiAgICAgICAgICAgIGV4Y2x1ZGUgImVvc2NfdXNlciAtPiBtb2RlbF9yZXBvIgogICAgICAgICAgICBleGNsdWRlICJlb3NjX3VzZXIgLT4gY29udGFpbmVyX3JlcG8iCgogICAgICAgICAgICBleGNsdWRlICJjaSAtPiBkYXRhX3ZhbGlkYXRpb24iCiAgICAgICAgICAgIGV4Y2x1ZGUgImRhdGFfcmVwbyAtPiBkYXRhX3ZhbGlkYXRpb24iCiAgICAgICAgICAgIGV4Y2x1ZGUgInRyYWluaW5nX2FwaSAtPiBkZXBsb3ltZW50X3dvcmtmbG93IiAKICAgICAgICAgICAgZXhjbHVkZSAiZGVwbG95bWVudF93b3JrZmxvdyAtPiBvc2NhciIKICAgICAgICAgICAgZXhjbHVkZSAiZGF0YV92YWxpZGF0aW9uIC0+IHRyYWluaW5nX2FwaSIKICAgICAgICB9CgogICAgICAgIHN5c3RlbUNvbnRleHQgb3JjaGVzdHJhdGlvbiBvcmNoZXN0cmF0aW9uX3ZpZXcgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICB9CgogICAgICAgIHN5c3RlbUNvbnRleHQgZGVlcGFhcyBkZWVwYWFzX3ZpZXcgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgc3lzdGVtQ29udGV4dCBtbG9wcyBtbG9wc192aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgfQoKICAgICAgICBjb250YWluZXIgZGVlcGFhcyBkZWVwYWFzX2NvbnRhaW5lcl92aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgICAgIGV4Y2x1ZGUgImFpNGVvc2NfcGxhdGZvcm0gLT4gc3RvcmFnZSIgCiAgICAgICAgfQoKICAgICAgICAKICAgICAgICBjb250YWluZXIgYWk0ZW9zY19wbGF0Zm9ybSBhaTRlb3NjX2NvbnRhaW5lcl92aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCgogICAgICAgICAgICBleGNsdWRlICJleHRlcm5hbF9jb250YWluZXIiCiAgICAgICAgICAgIGV4Y2x1ZGUgImV4dGVybmFsX2NvbnRhaW5lciAtPiBmZWRlcmF0ZWRfc2VydmVyIgoKICAgICAgICAgICAgZXhjbHVkZSAiZW9zY191c2VyIC0+IGRhdGFfcmVwbyIKICAgICAgICAgICAgZXhjbHVkZSAiZW9zY191c2VyIC0+IG1vZGVsX3JlcG8iCiAgICAgICAgICAgIGV4Y2x1ZGUgImVvc2NfdXNlciAtPiBjb250YWluZXJfcmVwbyIKCiAgICAgICAgICAgIGV4Y2x1ZGUgImNpIC0+IGRhdGFfdmFsaWRhdGlvbiIKICAgICAgICAgICAgZXhjbHVkZSAiY2kgLT4gbWxvcHMiCgogICAgICAgICAgICBleGNsdWRlICJkYXRhX3JlcG8gLT4gZGF0YV92YWxpZGF0aW9uIgogICAgICAgICAgICBleGNsdWRlICJkYXRhX3JlcG8gLT4gbWxvcHMiCgogICAgICAgICAgICBleGNsdWRlICJ0cmFpbmluZ19hcGkgLT4gZGVwbG95bWVudF93b3JrZmxvdyIgCiAgICAgICAgICAgIGV4Y2x1ZGUgInRyYWluaW5nX2FwaSAtPiBtbG9wcyIKCiAgICAgICAgICAgIGV4Y2x1ZGUgImRlcGxveW1lbnRfd29ya2Zsb3cgLT4gb3NjYXIiCgogICAgICAgICAgICBleGNsdWRlICJkYXRhX3ZhbGlkYXRpb24gLT4gdHJhaW5pbmdfYXBpIgoKICAgICAgICAgICAgZXhjbHVkZSAibW9kZWxfY29udGFpbmVyIC0+IG9zY2FyIgogICAgICAgICAgICBleGNsdWRlICJtb2RlbF9jb250YWluZXIgLT4gZGVlcGFhcyIKICAgICAgICAgICAgZXhjbHVkZSAib3NjYXIgLT4gbW9kZWxfY29udGFpbmVyIgogICAgICAgICAgICBleGNsdWRlICJkZWVwYWFzIC0+IG1vZGVsX2NvbnRhaW5lciIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29udGFpbmVyIG1sb3BzIG1sb3BzX2NvbnRhaW5lcl92aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgfQoKICAgICAgICBjb250YWluZXIgb3JjaGVzdHJhdGlvbiBvcmNoZXN0cmF0aW9uX2NvbnRhaW5lcl92aWV3IHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgICAgIGluY2x1ZGUgY2xvdWRfcHJvdmlkZXJzCiAgICAgICAgfQoKICAgICAgICAjIER5bmFtaWMgdmlld3MKCiAgICAgICAgZHluYW1pYyBhaTRlb3NjX3BsYXRmb3JtIGRldmVsb3BfdmlldyB7CiAgICAgICAgICAgIHRpdGxlICJbRHluYW1pYyB2aWV3XSBEZXZlbG9wIGFuZCByZWdpc3RlciBhIG1vZGVsIgogICAgICAgICAgICBlb3NjX3VzZXIgLT4gZGFzaGJvYXJkICJSZXF1ZXN0cyBhIGRldmVsb3BtZW50IGVudmlyb25tZW50IgogICAgICAgICAgICBkYXNoYm9hcmQgLT4gaWFtICJDaGVja3MgdXNlciBjcmVkZW50aWFscyIKICAgICAgICAgICAgaWFtIC0+IGRhc2hib2FyZCAiUmV0dXJucyBhY2Nlc3MgdG9rZW4iCiAgICAgICAgICAgIGRhc2hib2FyZCAtPiB0cmFpbmluZ19hcGkgIlJlcXVlc3RzIG5ldyBkZXZlbG9wbWVudCBlbnZpcm9tZW50IHdpdGggdXNlciBhY2Nlc3MgdG9rZW4iCiAgICAgICAgICAgIHRyYWluaW5nX2FwaSAtPiBjb2UgIlJlZ2lzdGVyIG5ldyBOb21hZCBqb2IsIHVzaW5nIHJvYm90IGFjY291bnQiCiAgICAgICAgICAgIGNvZSAtPiByZXNvdXJjZXMgIlN1Ym1pdCBOb21hZCBqb2IgdG8gTm9tYWQgYWdlbnQgb24gcHJvdmlzaW9uZWQgcmVzb3VyY2VzIgogICAgICAgICAgICByZXNvdXJjZXMgLT4gZGV2ICJFeGVjdXRlcyBEZXZlbG9wbWVudCBFbnZpcm9ubWVudCBhcyBjb250YWluZXIiCgogICAgICAgICAgICBkZXYgLT4gc3RvcmFnZSAiUmVhZCBhbmQgc3RvcmUgZGF0YSBmcm9tIgoKICAgICAgICAgICAgZW9zY191c2VyIC0+IGRldiAiRGV2ZWxvcHMgbmV3IG1vZGVsIgogICAgICAgICAgICBlb3NjX3VzZXIgLT4gZGF0YV9yZXBvCiAgICAgICAgICAgIGVvc2NfdXNlciAtPiBtb2RlbF9yZXBvCiAgICAgICAgICAgIGVvc2NfdXNlciAtPiBjb250YWluZXJfcmVwbwogICAgICAgICAgICBkYXNoYm9hcmQgLT4gZXhjaGFuZ2VfYXBpICJSZWdpc3RlcnMgbmV3IG1vZGVsIgogICAgICAgICAgICAvKiBkYXNoYm9hcmQgLT4gZXhjaGFuZ2VfYXBpICovCiAgICAgICAgICAgIC8qIGV4Y2hhbmdlX2FwaSAtPiBkYXNoYm9hcmQgIlByb3ZpZGVzIGxpc3Qgb2YgbW9kZWxzIiAqLwogICAgICAgIH0KICAgICAgICAKICAgICAgICBkeW5hbWljIGFpNGVvc2NfcGxhdGZvcm0gbWFudWFsX3JldHJhaW5fdmlldyB7CiAgICAgICAgICAgIHRpdGxlICJbRHluYW1pYyB2aWV3XSBNYW51YWxseSByZXRyYWluIGEgbW9kZWwiCgogICAgICAgICAgICBlb3NjX3VzZXIgLT4gZGFzaGJvYXJkICJSZXF1ZXN0cyBhdmFpbGFibGUgbW9kdWxlcyIKICAgICAgICAgICAgZGFzaGJvYXJkIC0+IGlhbSAiQ2hlY2tzIHVzZXIgY3JlZGVudGlhbHMiCiAgICAgICAgICAgIGlhbSAtPiBkYXNoYm9hcmQgIlJldHVybnMgYWNjZXNzIHRva2VuIgogICAgICAgICAgICBkYXNoYm9hcmQgLT4gdHJhaW5pbmdfYXBpICJSZXF1ZXN0cyBuZXcgdHJhaW5pbmcgam9iIgogICAgICAgICAgICB0cmFpbmluZ19hcGkgLT4gY29lICJSZWdpc3RlciBuZXcgTm9tYWQgam9iLCB1c2luZyByb2JvdCBhY2NvdW50IgogICAgICAgICAgICBjb2UgLT4gcmVzb3VyY2VzICJTdWJtaXQgTm9tYWQgam9iIHRvIE5vbWFkIGFnZW50IG9uIHByb3Zpc2lvbmVkIHJlc291cmNlcyIKICAgICAgICAgICAgcmVzb3VyY2VzIC0+IG1vZGVsX2NvbnRhaW5lciAiRXhlY3V0ZXMgdHJhaW5pbmcgam9iIGFzIGNvbnRhaW5lciIKCiAgICAgICAgICAgIHN0b3JhZ2UgLT4gbW9kZWxfY29udGFpbmVyICJSZWFkIHRyYWluaW5nIGRhdGEiCiAgICAgICAgICAgIG1vZGVsX2NvbnRhaW5lciAtPiBzdG9yYWdlICJXcml0ZSB0cmFpbmluZyByZXN1bHRzIgogICAgICAgIH0KCiAgICAgICAgZHluYW1pYyBhaTRlb3NjX3BsYXRmb3JtIGZlZGVyYXRlZF90cmFpbl92aWV3IHsKICAgICAgICAgICAgdGl0bGUgIltEeW5hbWljIHZpZXddIEZlZGVyYXRlZCBsZWFybmluZyBzY2VuYXJpbyIKCiAgICAgICAgICAgIGVvc2NfdXNlciAtPiBkYXNoYm9hcmQgIlJlcXVlc3RzIGF2YWlsYWJsZSBtb2R1bGVzIgogICAgICAgICAgICBkYXNoYm9hcmQgLT4gaWFtICJDaGVja3MgdXNlciBjcmVkZW50aWFscyIKICAgICAgICAgICAgaWFtIC0+IGRhc2hib2FyZCAiUmV0dXJucyBhY2Nlc3MgdG9rZW4iCgogICAgICAgICAgICBkYXNoYm9hcmQgLT4gdHJhaW5pbmdfYXBpICJSZXF1ZXN0cyBuZXcgZmVkZXJhdGVkIGxlYXJuaW5nIGpvYiIKICAgICAgICAgICAgdHJhaW5pbmdfYXBpIC0+IGNvZSAiUmVnaXN0ZXIgbmV3IGZlZGVyYXRlZCBsZWFybmluZyBOb21hZCBqb2IsIHVzaW5nIHJvYm90IGFjY291bnQiCiAgICAgICAgICAgIGNvZSAtPiBmZWRlcmF0ZWRfc2VydmVyICJEZXBsb3kgZmVkZXJhdGVkIGxlYXJuaW5nIHNlcnZlciIKICAgICAgICAgICAgdHJhaW5pbmdfYXBpIC0+IGZlZGVyYXRlZF9zZXJ2ZXIgIkdldCBmZWRlcmF0ZWQgbGVhcm5pbmcgc2VydmVyIGNyZWRlbnRpYWxzIHRvIGludGVyYWN0IHdpdGggaXQiCgogICAgICAgICAgICB0cmFpbmluZ19hcGkgLT4gY29lICJSZWdpc3RlciBuZXcgdHJhaW5pbmcgTm9tYWQgam9iLCB1c2luZyByb2JvdCBhY2NvdW50IgogICAgICAgICAgICBjb2UgLT4gcmVzb3VyY2VzICJTdWJtaXQgTm9tYWQgam9iIHRvIE5vbWFkIGFnZW50IG9uIHByb3Zpc2lvbmVkIHJlc291cmNlcyIKICAgICAgICAgICAgcmVzb3VyY2VzIC0+IG1vZGVsX2NvbnRhaW5lciAiRXhlY3V0ZXMgdHJhaW5pbmcgam9iIGFzIGNvbnRhaW5lciIKCiAgICAgICAgICAgIG1vZGVsX2NvbnRhaW5lciAtPiBmZWRlcmF0ZWRfc2VydmVyICJHZXQgdXBkYXRlZCBtb2RlbCwgdXNpbmcgc2VydmVyIGNyZWRlbnRpYWxzIgogICAgICAgICAgICBtb2RlbF9jb250YWluZXIgLT4gZmVkZXJhdGVkX3NlcnZlciAiU2VuZCB1cGRhdGVzIHRvIHNlcnZlciwgdXNpbmcgc2VydmVyIGNyZWRlbnRpYWxzIgogICAgICAgICAgICAKICAgICAgICAgICAgZXh0ZXJuYWxfY29udGFpbmVyIC0+IGZlZGVyYXRlZF9zZXJ2ZXIgIkdldCB1cGRhdGVkIG1vZGVsLCB1c2luZyBzZXJ2ZXIgY3JlZGVudGlhbHMiCiAgICAgICAgICAgIGV4dGVybmFsX2NvbnRhaW5lciAtPiBmZWRlcmF0ZWRfc2VydmVyICJTZW5kIHVwZGF0ZXMgdG8gc2VydmVyLCB1c2luZyBzZXJ2ZXIgY3JlZGVudGlhbHMiCgogICAgICAgICAgICB0cmFpbmluZ19hcGkgLT4gZmVkZXJhdGVkX3NlcnZlciAiUXVlcnkgZmVkZXJhdGVkIGxlYXJuaW5nIHN0YXR1cyIKCiAgICAgICAgICAgIHN0b3JhZ2UgLT4gbW9kZWxfY29udGFpbmVyICJSZWFkIHRyYWluaW5nIGRhdGEiCiAgICAgICAgICAgIG1vZGVsX2NvbnRhaW5lciAtPiBzdG9yYWdlICJXcml0ZSB0cmFpbmluZyByZXN1bHRzIgogICAgICAgIH0KCiAgICAgICAgLyogZHluYW1pYyBhaTRlb3NjX3BsYXRmb3JtIGF1dG9tYXRpY19yZXRyYWluX3ZpZXcgeyAqLwogICAgICAgIC8qICAgICB0aXRsZSAiW0R5bmFtaWMgdmlld10gQXV0b21hdGljYWxseSByZXRyYWluIGEgbW9kZWwgdGhyb3VnaCBNTE9wcyIgKi8KCiAgICAgICAgLyogICAgIC8xKiBkYXRhX3JlcG8gLT4gZGF0YV9wcmVwcm9jICJOb3RpZmllcyBvZiBuZXcgZGF0YSIgKjEvICovCiAgICAgICAgLyogICAgIC8xKiBkYXRhX3ByZXByb2MgLT4gZGF0YV92YWxpZGF0aW9uICJmb28iICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZW9zY191c2VyIC0+IGRhc2hib2FyZCAiUmVxdWVzdHMgYXZhaWxhYmxlIG1vZHVsZXMiICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZGFzaGJvYXJkIC0+IGlhbSAiQ2hlY2tzIHVzZXIgY3JlZGVudGlhbHMiICoxLyAqLwogICAgICAgIC8qICAgICAvMSogaWFtIC0+IGRhc2hib2FyZCAiUmV0dXJucyBhY2Nlc3MgdG9rZW4iICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZGFzaGJvYXJkIC0+IHRyYWluaW5nX2FwaSAiUmVxdWVzdHMgbmV3IHRyYWluaW5nIGpvYiIgKjEvICovCiAgICAgICAgLyogICAgIC8xKiB0cmFpbmluZ19hcGkgLT4gY29lICJSZWdpc3RlciBuZXcgTm9tYWQgam9iLCB1c2luZyByb2JvdCBhY2NvdW50IiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGNvZSAtPiByZXNvdXJjZXMgIlN1Ym1pdCBOb21hZCBqb2IgdG8gTm9tYWQgYWdlbnQgb24gcHJvdmlzaW9uZWQgcmVzb3VyY2VzIiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIHJlc291cmNlcyAtPiBtb2RlbF9jb250YWluZXIgIkV4ZWN1dGVzIHRyYWluaW5nIGpvYiBhcyBjb250YWluZXIiICoxLyAqLwoKICAgICAgICAvKiAgICAgLzEqIHN0b3JhZ2UgLT4gbW9kZWxfY29udGFpbmVyICJSZWFkIHRyYWluaW5nIGRhdGEiICoxLyAqLwogICAgICAgIC8qICAgICAvMSogbW9kZWxfY29udGFpbmVyIC0+IHN0b3JhZ2UgIldyaXRlIHRyYWluaW5nIHJlc3VsdHMiICoxLyAqLwoKICAgICAgICAvKiAgICAgI21sb3BzIC0tbmV3IGRhdGEgKi8KICAgICAgICAgICAgCiAgICAgICAgLyogICAgIC8xKiBkYXRhX3ByZXByb2MgLT4gZGF0YV9yZXBvICJSZXRyaWV2ZXMgbmV3IGRhdGEiICoxLyAqLwogICAgICAgIC8qICAgICAjZGF0YV9yZXBvIC0+IGRhdGFfcHJlcHJvYyAiUmV0cmlldmVzIGRhdGEiICovCiAgICAgICAgLyogICAgIC8xKiBkYXRhX3ByZXByb2MgLT4gZGV2ICJQcmVwcm9jZXNzZXMgZGF0YSIgKjEvICovCiAgICAgICAgLyogICAgICNkZXYgLT4gdHJhaW5pbmdfYXBpICJTdGFydHMgdHJhaW5pbmcgam9iIiAqLwogICAgICAgIC8qICAgICAjdHJhaW5pbmdfYXBpIC0+IGRyaWZ0X2RldGVjdGlvbiAiUmVjZWl2ZXMgbW9kZWwgcGVyZm9ybWFuY2UgbWV0cmljcyIgKi8KICAgICAKCiAgICAgICAgLyogICAgICMgKi8KICAgICAgICAvKiAgICAgLzEqIG1vZGVsX2NvbnRhaW5lciAtPiBjb250YWluZXJfcmVwbyAiUHVzaCB0cmFpbmVkIG1vZGVsIHRvIHJlZ2lzdHJ5IiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIG1vZGVsX2NvbnRhaW5lciAtPiBvc2NhciAiTG9hZHMgbW9kZWwgaW50byBpbmZlcmVuY2Ugc2VydmljZSIgKjEvICovCiAgICAgICAgLyogICAgIC8xKiBvc2NhciAtPiBtb2RlbF9jb250YWluZXIgIlJlY2VpdmVzIHJlY2VudCBwcmVkaWN0aW9uIHJlcXVlc3RzIiAqMS8gKi8KICAgICAgCgogICAgICAgICAgICAKCgogICAgICAgIC8qICAgICAvMSogZW9zY191c2VyIC0+IGRldiAiRGV2ZWxvcHMgbmV3IG1vZGVsIiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGVvc2NfdXNlciAtPiBkYXRhX3JlcG8gKjEvICovCiAgICAgICAgLyogICAgIC8xKiBlb3NjX3VzZXIgLT4gbW9kZWxfcmVwbyAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGVvc2NfdXNlciAtPiBjb250YWluZXJfcmVwbyAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGRhc2hib2FyZCAtPiBleGNoYW5nZV9hcGkgIlJlZ2lzdGVycyBuZXcgbW9kZWwiICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZGFzaGJvYXJkIC0+IGV4Y2hhbmdlX2FwaSAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGV4Y2hhbmdlX2FwaSAtPiBkYXNoYm9hcmQgIlByb3ZpZGVzIGxpc3Qgb2YgbW9kZWxzIiAqMS8gKi8KICAgICAgICAvKiB9ICovCiAgICAgICAgCiAgICAgICAgZHluYW1pYyBkZWVwYWFzIG9zY2FyX2R5bmFtaWMgewogICAgICAgICAgICB0aXRsZSAiW0R5bmFtaWMgdmlld10gT1NDQVIgZHluYW1pYyB2aWV3IgogICAgICAgICAgICBlbmRfdXNlciAtPiBPU0NBUiAiRGVwbG95IHNlcnZpY2UiCiAgICAgICAgICAgIE9TQ0FSIC0+IE1pbklPICJCdWNrZXRzIGFuZCBmb2xkZXJzIHdpbGwgYmUgY3JlYXRlZCIKICAgICAgICAgICAgZW5kX3VzZXIgLT4gTWluSU8gIlN0b3JlIGRhdGEgZm9yIGFzeW5jaHJvbm91cyBpbmZlcmVuY2UgKE9wdGlvbiBBKSIKICAgICAgICAgICAgT1NDQVIgLT4gS25hdGl2ZSAiRXhlY3V0ZSBzZXJ2aWNlcyBzeW5jaHJvbm91c2x5IChPcHRpb24gQikiCiAgICAgICAgICAgIE9TQ0FSIC0+IEt1YmVybmV0ZXMgIk1hbmFnZSBzZXJ2aWNlcy4gUmVnaXN0ZXIgam9icy4gUmV0cmlldmUgbG9ncyAoT3B0aW9uIEEpIgogICAgICAgICAgICBLdWJlcm5ldGVzIC0+IEZhYVNTICJDcmVhdGUgam9icyAoT3B0aW9uIEEpIgogICAgICAgICAgICBLbmF0aXZlIC0+IEZhYVNTICAiQXNzaWduIHRvIGZ1bmN0aW9uJ3MgcG9kKHMpLiAoT3B0aW9uIEIpIgogICAgICAgICAgICBGYWFTUyAtPiBNaW5JTyAiRG93bmxvYWQgaW5wdXQuIFVwbG9hZCBvdXRwdXQuIgogICAgICAgICAgICBGYWFTUyAtPiBzdG9yYWdlICJSZWFkL3N0b3JlIGRhdGEgIgogICAgICAgIH0KCiAgICAgICAgLyogI0Fub3RoZXIgZHluYW1pYyB2aWV3ICovCiAgICAgICAgLyogZHluYW1pYyBhaTRlb3NjX3BsYXRmb3JtIG1vZGVsX2RhdGFfZHJpZnQgeyAqLwogICAgICAgIC8qICAgICB0aXRsZSAiW0R5bmFtaWMgdmlld10gTWFuYWdpbmcgTW9kZWwvRGF0YSBEcmlmdCIgKi8KIAogICAgICAgIC8qICAgICAvMSogZGF0YV9wcmVwcm9jIC0+IGRhdGFfcmVwbyAiUmVhZCBkYXRhIHVwZGF0ZXMgZnJvbSIgKjEvICovCiAgICAgICAgLyogICAgIC8xKiBkYXRhX3ByZXByb2MgLT4gZGF0YV92YWxpZGF0aW9uICJTZW5kcyBkYXRhIGZvciB2YWxpZGF0aW9uIiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIGRhdGFfdmFsaWRhdGlvbiAtPiB0cmFpbmluZ19hcGkgIlNlbmRzIHZhbGlkYXRlZCBkYXRhIGZvciBtb25pdG9yaW5nIiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIHRyYWluaW5nX2FwaSAtPiBkcmlmdF9kZXRlY3Rpb24gIkRldGVjdHMgZHJpZnQgaW4gbW9kZWwgcGVyZm9ybWFuY2UiICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZHJpZnRfZGV0ZWN0aW9uIC0+IGZlZWRiYWNrX2xvb3AgIlRyaWdnZXJzIG1vZGVsIHJldHJhaW5pbmciICoxLyAqLwogICAgICAgIC8qICAgICAvMSogZmVlZGJhY2tfbG9vcCAtPiB0cmFpbmluZ19hcGkgIlN0YXJ0cyBtb2RlbCByZXRyYWluaW5nIiAqMS8gKi8KICAgICAgICAvKiAgICAgLzEqIHRyYWluaW5nX2FwaSAtPiBkZXBsb3ltZW50X3dvcmtmbG93ICJEZXBsb3lzIG5ldyBtb2RlbCIgKjEvICovCiAgICAgICAgLyogICAgIC8xKiBkZXBsb3ltZW50X3dvcmtmbG93IC0+IG9zY2FyICJVcGRhdGVzIG1vZGVsIGluIHByb2R1Y3Rpb24iICoxLyAqLwogICAgICAgIC8qIH0gKi8gCiAgICAgICAgCiAgICAgICAgZGVwbG95bWVudCAqICJQcm9kdWN0aW9uIiBwcm9kdWN0aW9uX2RlcGxveW1lbnQgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgLyogYXV0b0xheW91dCAqLwogICAgICAgIH0KCiAgICAgICAgc3R5bGVzIHsKICAgICAgICAgICAgZWxlbWVudCAiQ29udGFpbmVyIiB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICMwMDg3OTIKICAgICAgICAgICAgICAgIC8qIGNvbG9yICNmZmZmZmYgKi8KICAgICAgICAgICAgICAgIC8qIHNoYXBlIFJvdW5kZWRCb3ggKi8KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWxlbWVudCAiU29mdHdhcmUgU3lzdGVtIiB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICNmZjlkYjIKICAgICAgICAgICAgICAgIGNvbG9yICMwMDAwMDAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWxlbWVudCAiUGVyc29uIiB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICMwMDRmNTYKICAgICAgICAgICAgfQoKIyAgICAgICAgICAgIGVsZW1lbnQgImRhc2hib2FyZCIgewojICAgICAgICAgICAgICAgIHNoYXBlIFdlYkJyb3dzZXIKIyAgICAgICAgICAgIH0gICAgICAgCiMKIyAgICAgICAgICAgIGVsZW1lbnQgInJlcG9zaXRvcnkiIHsKIyAgICAgICAgICAgICAgICBzaGFwZSBDeWxpbmRlcgojICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoK"
  },
  "configuration" : { },
  "model" : {
    "enterprise" : {
      "name" : "AI4EOSC"
    },
    "people" : [ {
      "id" : "1",
      "tags" : "Element,Person",
      "properties" : {
        "structurizr.dsl.identifier" : "eosc_user"
      },
      "name" : "EOSC User",
      "description" : "EOSC user willing to use an AI platform to develop an AI application.",
      "relationships" : [ {
        "id" : "4",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "3",
        "description" : "Browse EOSC resources, create order for new services"
      }, {
        "id" : "60",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "6",
        "description" : "Reuse, develop, publish new AI models"
      }, {
        "id" : "70",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "16",
        "description" : "Browse models, train existing model, build new one."
      }, {
        "id" : "71",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "19",
        "description" : "Access interactive environments"
      }, {
        "id" : "95",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "8",
        "description" : "Registers data"
      }, {
        "id" : "96",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "9",
        "description" : "Registers model"
      }, {
        "id" : "97",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "10",
        "description" : "Registers container"
      } ],
      "location" : "External"
    }, {
      "id" : "5",
      "tags" : "Element,Person",
      "properties" : {
        "structurizr.dsl.identifier" : "paas_ops"
      },
      "name" : "PaaS Operator",
      "description" : "Resource provider operator or platform operator managing the PaaS deployments.",
      "relationships" : [ {
        "id" : "61",
        "tags" : "Relationship",
        "sourceId" : "5",
        "destinationId" : "38",
        "description" : "Manage PaaS resources and deployments"
      }, {
        "id" : "122",
        "tags" : "Relationship",
        "sourceId" : "5",
        "destinationId" : "39",
        "description" : "Manages AI4EOSC PaaS deployments"
      } ],
      "location" : "External"
    }, {
      "id" : "59",
      "tags" : "Element,Person",
      "properties" : {
        "structurizr.dsl.identifier" : "end_user"
      },
      "name" : "User",
      "description" : "An end-user, willing to exploit existing production models.",
      "relationships" : [ {
        "id" : "62",
        "tags" : "Relationship",
        "sourceId" : "59",
        "destinationId" : "46",
        "description" : "Uses deployed models from"
      }, {
        "id" : "160",
        "tags" : "Relationship",
        "sourceId" : "59",
        "destinationId" : "48",
        "description" : "Synchronous inference request"
      }, {
        "id" : "161",
        "tags" : "Relationship",
        "sourceId" : "59",
        "destinationId" : "50",
        "description" : "Store data for asynchronous inference"
      } ],
      "location" : "External"
    } ],
    "softwareSystems" : [ {
      "id" : "2",
      "tags" : "Element,Software System,external",
      "properties" : {
        "structurizr.dsl.identifier" : "aai"
      },
      "name" : "EOSC AAI",
      "description" : "Provides Authentication, Authorization and Identity management for EOSC users.",
      "group" : "EOSC",
      "location" : "External",
      "documentation" : { }
    }, {
      "id" : "3",
      "tags" : "Element,Software System,external",
      "properties" : {
        "structurizr.dsl.identifier" : "portal"
      },
      "name" : "EOSC Portal",
      "description" : "Provides access to EOSC resources and services for users.",
      "relationships" : [ {
        "id" : "87",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "15",
        "description" : "Creates new order/request for services"
      }, {
        "id" : "88",
        "sourceId" : "3",
        "destinationId" : "6",
        "description" : "Creates new order/request for services",
        "linkedRelationshipId" : "87"
      } ],
      "group" : "EOSC",
      "location" : "External",
      "documentation" : { }
    }, {
      "id" : "6",
      "tags" : "Element,Software System",
      "properties" : {
        "structurizr.dsl.identifier" : "ai4eosc_platform"
      },
      "name" : "AI4EOSC Platform",
      "description" : "Allows EOSC users to develop, build and share AI models.",
      "relationships" : [ {
        "id" : "65",
        "tags" : "Relationship",
        "sourceId" : "6",
        "destinationId" : "53",
        "description" : "Consumes data from"
      }, {
        "id" : "66",
        "tags" : "Relationship",
        "sourceId" : "6",
        "destinationId" : "2",
        "description" : "Is integrated with"
      }, {
        "id" : "67",
        "tags" : "Relationship",
        "sourceId" : "6",
        "destinationId" : "46",
        "description" : "Deploy models on"
      }, {
        "id" : "159",
        "tags" : "Relationship",
        "sourceId" : "6",
        "destinationId" : "48",
        "description" : "Deployment or update of inference services"
      } ],
      "location" : "Internal",
      "containers" : [ {
        "id" : "12",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "ci"
        },
        "name" : "Continuous Integration",
        "description" : "Ensures quality aspects are fulfilled (code checks, unit checks, etc.).",
        "relationships" : [ {
          "id" : "98",
          "tags" : "Relationship",
          "sourceId" : "12",
          "destinationId" : "8",
          "description" : "Ensures QA aspects"
        }, {
          "id" : "99",
          "tags" : "Relationship",
          "sourceId" : "12",
          "destinationId" : "9",
          "description" : "Ensures QA aspects"
        } ],
        "group" : "AI4EOSC Exchange",
        "documentation" : { }
      }, {
        "id" : "17",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "training_api"
        },
        "name" : "Training API",
        "description" : "Provides training creation and monitoring functionality via a JSON/HTTPS API.",
        "relationships" : [ {
          "id" : "73",
          "tags" : "Relationship",
          "sourceId" : "17",
          "destinationId" : "20",
          "description" : "Create training job, interactive environment using API calls to"
        }, {
          "id" : "74",
          "tags" : "Relationship",
          "sourceId" : "17",
          "destinationId" : "18",
          "description" : "Stores training data in"
        }, {
          "id" : "75",
          "tags" : "Relationship",
          "sourceId" : "17",
          "destinationId" : "23",
          "description" : "Queries training status"
        }, {
          "id" : "81",
          "tags" : "Relationship",
          "sourceId" : "17",
          "destinationId" : "22",
          "description" : "Manages federated learning rounds"
        }, {
          "id" : "83",
          "tags" : "Relationship",
          "sourceId" : "17",
          "destinationId" : "14",
          "description" : "Authenticates users with"
        } ],
        "group" : "AI4EOSC training",
        "technology" : "FastAPI + python-nomad",
        "documentation" : { }
      }, {
        "id" : "18",
        "tags" : "Element,Container,database",
        "properties" : {
          "structurizr.dsl.identifier" : "training_db"
        },
        "name" : "Training database",
        "description" : "Stores AI4EOSC training requests.",
        "group" : "AI4EOSC training",
        "documentation" : { }
      }, {
        "id" : "10",
        "tags" : "Element,Container,repository",
        "properties" : {
          "structurizr.dsl.identifier" : "container_repo"
        },
        "name" : "Container registry",
        "description" : "Store container images.",
        "group" : "AI4EOSC Exchange",
        "technology" : "DockerHub",
        "documentation" : { }
      }, {
        "id" : "20",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "coe"
        },
        "name" : "Workload Management System",
        "description" : "Manages and schedules the execution of compute requests.",
        "relationships" : [ {
          "id" : "76",
          "tags" : "Relationship",
          "sourceId" : "20",
          "destinationId" : "21",
          "description" : "Create new task/workload"
        }, {
          "id" : "79",
          "tags" : "Relationship",
          "sourceId" : "20",
          "destinationId" : "22",
          "description" : "Creates"
        } ],
        "group" : "AI4EOSC training",
        "technology" : "Hashicorp Nomad",
        "documentation" : { }
      }, {
        "id" : "23",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "model_container"
        },
        "name" : "Model container",
        "description" : "Encapsulates user code.",
        "relationships" : [ {
          "id" : "80",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "22",
          "description" : "Gets updated model, sends new weights"
        }, {
          "id" : "86",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "53",
          "description" : "Read data from"
        }, {
          "id" : "105",
          "tags" : "Relationship",
          "sourceId" : "23",
          "destinationId" : "10",
          "description" : "Stored in"
        } ],
        "group" : "AI4EOSC training",
        "technology" : "Docker",
        "components" : [ {
          "id" : "24",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "api"
          },
          "name" : "API",
          "relationships" : [ {
            "id" : "27",
            "tags" : "Relationship",
            "sourceId" : "24",
            "destinationId" : "26"
          } ],
          "technology" : "DEEPaaS API",
          "documentation" : { }
        }, {
          "id" : "26",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "user_model"
          },
          "name" : "User code and model",
          "relationships" : [ {
            "id" : "28",
            "tags" : "Relationship",
            "sourceId" : "26",
            "destinationId" : "25"
          } ],
          "documentation" : { }
        }, {
          "id" : "25",
          "tags" : "Element,Component",
          "properties" : {
            "structurizr.dsl.identifier" : "framework"
          },
          "name" : "ML/AI framework",
          "documentation" : { }
        } ],
        "documentation" : { }
      }, {
        "id" : "29",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "external_container"
        },
        "name" : "User-managed model container",
        "description" : "Encapsulates user code, not executed on the platform",
        "relationships" : [ {
          "id" : "30",
          "tags" : "Relationship",
          "sourceId" : "29",
          "destinationId" : "22",
          "description" : "Gets updated model, sends weights to server"
        } ],
        "technology" : "Docker",
        "documentation" : { }
      }, {
        "id" : "22",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "federated_server"
        },
        "name" : "Federated learning server",
        "description" : "Agregates federated client updates",
        "group" : "AI4EOSC training",
        "technology" : "flower.io",
        "documentation" : { }
      }, {
        "id" : "14",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "iam"
        },
        "name" : "Identity and Access Management",
        "description" : "Provides user and group management.",
        "relationships" : [ {
          "id" : "89",
          "tags" : "Relationship",
          "sourceId" : "14",
          "destinationId" : "2",
          "description" : "Federate users from",
          "technology" : "OpenID Connect"
        } ],
        "group" : "Identity and user management",
        "technology" : "INDIGO IAM",
        "documentation" : { }
      }, {
        "id" : "16",
        "tags" : "Element,Container,dashboard",
        "properties" : {
          "structurizr.dsl.identifier" : "dashboard"
        },
        "name" : "AI4EOSC dashboard",
        "description" : "Provides access to existing modules (anonymous), experiment and training definition (logged users).",
        "relationships" : [ {
          "id" : "72",
          "tags" : "Relationship",
          "sourceId" : "16",
          "destinationId" : "17",
          "description" : "Define new trainings, check training status, etc."
        }, {
          "id" : "84",
          "tags" : "Relationship",
          "sourceId" : "16",
          "destinationId" : "14",
          "description" : "Authenticates users with"
        }, {
          "id" : "91",
          "tags" : "Relationship",
          "sourceId" : "16",
          "destinationId" : "7",
          "description" : "Reads available models from"
        } ],
        "technology" : "Angular",
        "documentation" : { }
      }, {
        "id" : "15",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "order"
        },
        "name" : "Order management system",
        "description" : "Manages orders coming both from the EOSC portal or for new users.",
        "relationships" : [ {
          "id" : "90",
          "tags" : "Relationship",
          "sourceId" : "15",
          "destinationId" : "14",
          "description" : "Creates new users for new orders"
        } ],
        "group" : "Identity and user management",
        "documentation" : { }
      }, {
        "id" : "8",
        "tags" : "Element,Container,repository",
        "properties" : {
          "structurizr.dsl.identifier" : "data_repo"
        },
        "name" : "Model and data repository",
        "description" : "Track AI models and data sets.",
        "relationships" : [ {
          "id" : "103",
          "tags" : "Relationship",
          "sourceId" : "8",
          "destinationId" : "53",
          "description" : "Refers to data stored in"
        } ],
        "group" : "AI4EOSC Exchange",
        "technology" : "dvc",
        "documentation" : { }
      }, {
        "id" : "7",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "exchange_api"
        },
        "name" : "Exchange API",
        "description" : "Provides exchange functionality via HTTPS/JSON API.",
        "relationships" : [ {
          "id" : "82",
          "tags" : "Relationship",
          "sourceId" : "7",
          "destinationId" : "14",
          "description" : "Authenticates users with"
        }, {
          "id" : "92",
          "tags" : "Relationship",
          "sourceId" : "7",
          "destinationId" : "8",
          "description" : "Reads from"
        }, {
          "id" : "93",
          "tags" : "Relationship",
          "sourceId" : "7",
          "destinationId" : "9",
          "description" : "Reads from"
        }, {
          "id" : "94",
          "tags" : "Relationship",
          "sourceId" : "7",
          "destinationId" : "10",
          "description" : "Reads from"
        }, {
          "id" : "104",
          "tags" : "Relationship",
          "sourceId" : "7",
          "destinationId" : "11",
          "description" : "Reads from writes to"
        } ],
        "group" : "AI4EOSC Exchange",
        "documentation" : { }
      }, {
        "id" : "13",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "cd"
        },
        "name" : "Continuous Delivery & Deployment",
        "description" : "Ensures delivery and deployment of new assets.",
        "relationships" : [ {
          "id" : "100",
          "tags" : "Relationship",
          "sourceId" : "13",
          "destinationId" : "9",
          "description" : "Reacts to events from"
        }, {
          "id" : "101",
          "tags" : "Relationship",
          "sourceId" : "13",
          "destinationId" : "10",
          "description" : "Creates containers"
        }, {
          "id" : "102",
          "tags" : "Relationship",
          "sourceId" : "13",
          "destinationId" : "46",
          "description" : "Deploys models on"
        } ],
        "group" : "AI4EOSC Exchange",
        "documentation" : { }
      }, {
        "id" : "19",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "dev"
        },
        "name" : "Interactive development Environment",
        "description" : "An interactive development environment with access to resources and limited execution time.",
        "relationships" : [ {
          "id" : "85",
          "tags" : "Relationship",
          "sourceId" : "19",
          "destinationId" : "53",
          "description" : "Read data from"
        } ],
        "group" : "AI4EOSC training",
        "technology" : "Jupyter",
        "documentation" : { }
      }, {
        "id" : "21",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "resources"
        },
        "name" : "Compute client",
        "description" : "Executes user workloads.",
        "relationships" : [ {
          "id" : "77",
          "tags" : "Relationship",
          "sourceId" : "21",
          "destinationId" : "19",
          "description" : "Create on-demand environments"
        }, {
          "id" : "78",
          "tags" : "Relationship",
          "sourceId" : "21",
          "destinationId" : "23",
          "description" : "Executes user model in a"
        } ],
        "group" : "AI4EOSC training",
        "technology" : "Hashicorp Nomad",
        "documentation" : { }
      }, {
        "id" : "9",
        "tags" : "Element,Container,repository",
        "properties" : {
          "structurizr.dsl.identifier" : "model_repo"
        },
        "name" : "Model code repository",
        "description" : "Track AI model code.",
        "group" : "AI4EOSC Exchange",
        "technology" : "Git",
        "documentation" : { }
      }, {
        "id" : "11",
        "tags" : "Element,Container,database",
        "properties" : {
          "structurizr.dsl.identifier" : "exchange_db"
        },
        "name" : "Exchange database",
        "description" : "Stores AI4EOSC exchange registered models.",
        "group" : "AI4EOSC Exchange",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "31",
      "tags" : "Element,Software System",
      "properties" : {
        "structurizr.dsl.identifier" : "mlops"
      },
      "name" : "Machine Learning Operations (MLOps)",
      "description" : "Provides the ability to implement MLOps techniques, as needed from use cases",
      "relationships" : [ {
        "id" : "68",
        "tags" : "Relationship",
        "sourceId" : "31",
        "destinationId" : "46",
        "description" : "Monitors production model"
      }, {
        "id" : "69",
        "tags" : "Relationship",
        "sourceId" : "31",
        "destinationId" : "6",
        "description" : "Triggers model update/retraining"
      }, {
        "id" : "107",
        "tags" : "Relationship",
        "sourceId" : "31",
        "destinationId" : "17",
        "description" : "Trigger model update/retraining"
      }, {
        "id" : "108",
        "tags" : "Relationship",
        "sourceId" : "31",
        "destinationId" : "8",
        "description" : "Monitor new data available, update model after training"
      }, {
        "id" : "109",
        "tags" : "Relationship",
        "sourceId" : "31",
        "destinationId" : "13",
        "description" : "Trigger model update"
      }, {
        "id" : "121",
        "sourceId" : "31",
        "destinationId" : "48",
        "description" : "Monitor deployed model",
        "linkedRelationshipId" : "119"
      } ],
      "location" : "Internal",
      "containers" : [ {
        "id" : "34",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "drift_detection"
        },
        "name" : "Drift detection",
        "description" : "Detects drifts in model performance",
        "relationships" : [ {
          "id" : "115",
          "tags" : "Relationship",
          "sourceId" : "34",
          "destinationId" : "35",
          "description" : "Triggers model retraining"
        }, {
          "id" : "119",
          "tags" : "Relationship",
          "sourceId" : "34",
          "destinationId" : "48",
          "description" : "Monitor deployed model"
        }, {
          "id" : "120",
          "sourceId" : "34",
          "destinationId" : "46",
          "description" : "Monitor deployed model",
          "linkedRelationshipId" : "119"
        } ],
        "documentation" : { }
      }, {
        "id" : "35",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "feedback_loop"
        },
        "name" : "Feedback loop",
        "description" : "Determines when to trigger a new training job",
        "relationships" : [ {
          "id" : "116",
          "tags" : "Relationship",
          "sourceId" : "35",
          "destinationId" : "17",
          "description" : "Starts model retraining"
        }, {
          "id" : "117",
          "sourceId" : "35",
          "destinationId" : "6",
          "description" : "Starts model retraining",
          "linkedRelationshipId" : "116"
        }, {
          "id" : "118",
          "tags" : "Relationship",
          "sourceId" : "35",
          "destinationId" : "36",
          "description" : "Notifies of model retraining"
        } ],
        "technology" : "DS",
        "documentation" : { }
      }, {
        "id" : "36",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "deployment_workflow"
        },
        "name" : "Deployment workflow",
        "description" : "Deploy the newly trained model to production",
        "relationships" : [ {
          "id" : "112",
          "tags" : "Relationship",
          "sourceId" : "36",
          "destinationId" : "13",
          "description" : "Trigger update of most recent model"
        }, {
          "id" : "113",
          "sourceId" : "36",
          "destinationId" : "6",
          "description" : "Trigger update of most recent model",
          "linkedRelationshipId" : "112"
        } ],
        "technology" : "pipeline",
        "documentation" : { }
      }, {
        "id" : "32",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "data_preproc"
        },
        "name" : "Data preparation",
        "description" : "Prepare and process data for training",
        "relationships" : [ {
          "id" : "37",
          "tags" : "Relationship",
          "sourceId" : "32",
          "destinationId" : "33",
          "description" : "Validate the prepared data"
        }, {
          "id" : "110",
          "tags" : "Relationship",
          "sourceId" : "32",
          "destinationId" : "8",
          "description" : "Read datasets or new model updates from"
        }, {
          "id" : "111",
          "sourceId" : "32",
          "destinationId" : "6",
          "description" : "Read datasets or new model updates from",
          "linkedRelationshipId" : "110"
        } ],
        "documentation" : { }
      }, {
        "id" : "33",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "data_validation"
        },
        "name" : "Data validation",
        "description" : "Validate data (if accurate, complete) before using for training or inference",
        "relationships" : [ {
          "id" : "114",
          "tags" : "Relationship",
          "sourceId" : "33",
          "destinationId" : "34",
          "description" : "Sends validated data for monitoring"
        } ],
        "technology" : "database",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "38",
      "tags" : "Element,Software System",
      "properties" : {
        "structurizr.dsl.identifier" : "orchestration"
      },
      "name" : "PaaS Orchestration and provisioning",
      "description" : "Allows PaaS operators to manage PaaS deployments and resources.",
      "relationships" : [ {
        "id" : "63",
        "tags" : "Relationship",
        "sourceId" : "38",
        "destinationId" : "6",
        "description" : "Creates PaaS deployments and provisions resources for"
      }, {
        "id" : "64",
        "tags" : "Relationship",
        "sourceId" : "38",
        "destinationId" : "46",
        "description" : "Provisions resources for"
      }, {
        "id" : "106",
        "tags" : "Relationship",
        "sourceId" : "38",
        "destinationId" : "21",
        "description" : "Provisions"
      }, {
        "id" : "139",
        "sourceId" : "38",
        "destinationId" : "51",
        "description" : "Provisions resources for",
        "linkedRelationshipId" : "137"
      }, {
        "id" : "141",
        "sourceId" : "38",
        "destinationId" : "48",
        "description" : "Provisions resources for",
        "linkedRelationshipId" : "140"
      } ],
      "location" : "Internal",
      "containers" : [ {
        "id" : "44",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "im"
        },
        "name" : "Infrastructure Manager",
        "documentation" : { }
      }, {
        "id" : "45",
        "tags" : "Element,Container,repository",
        "properties" : {
          "structurizr.dsl.identifier" : "tosca_repo"
        },
        "name" : "Topologies repository",
        "technology" : "TOSCA",
        "documentation" : { }
      }, {
        "id" : "39",
        "tags" : "Element,Container,dashboard",
        "properties" : {
          "structurizr.dsl.identifier" : "paas_dashboard"
        },
        "name" : "PaaS Dashboard",
        "description" : "Web User Interface that allows to easily interact with the PaaS services",
        "relationships" : [ {
          "id" : "123",
          "tags" : "Relationship",
          "sourceId" : "39",
          "destinationId" : "40",
          "description" : "Create deployment"
        }, {
          "id" : "124",
          "tags" : "Relationship",
          "sourceId" : "39",
          "destinationId" : "45",
          "description" : "Read topologies"
        } ],
        "technology" : "Flask",
        "documentation" : { }
      }, {
        "id" : "40",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "paas_orchestrator"
        },
        "name" : "PaaS Orchestrator",
        "relationships" : [ {
          "id" : "125",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "45",
          "description" : "Read topologies"
        }, {
          "id" : "126",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "44",
          "description" : "Uses"
        }, {
          "id" : "127",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "41",
          "description" : "Get information"
        }, {
          "id" : "129",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "43",
          "description" : "Get matching offers"
        }, {
          "id" : "130",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "21",
          "description" : "Provisions resources for"
        }, {
          "id" : "131",
          "sourceId" : "40",
          "destinationId" : "6",
          "description" : "Provisions resources for",
          "linkedRelationshipId" : "130"
        }, {
          "id" : "137",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "51",
          "description" : "Provisions resources for"
        }, {
          "id" : "138",
          "sourceId" : "40",
          "destinationId" : "46",
          "description" : "Provisions resources for",
          "linkedRelationshipId" : "137"
        }, {
          "id" : "140",
          "tags" : "Relationship",
          "sourceId" : "40",
          "destinationId" : "48",
          "description" : "Provisions resources for"
        } ],
        "technology" : "INDIGO PaaS Orchestrator",
        "documentation" : { }
      }, {
        "id" : "41",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "federated_service_catalogue"
        },
        "name" : "Federated Service Catalogue",
        "description" : "Provides information about the available capabilities offered by the resource (compute and data) providers",
        "documentation" : { }
      }, {
        "id" : "42",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "monitoring_system"
        },
        "name" : "Monitoring & Metering System",
        "description" : "Gathers metrics from the different services (status, resource availabilty, performance, etc.)",
        "relationships" : [ {
          "id" : "128",
          "tags" : "Relationship",
          "sourceId" : "42",
          "destinationId" : "41",
          "description" : "Send aggregated metrics"
        } ],
        "documentation" : { }
      }, {
        "id" : "43",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "cloud_provider_ranker"
        },
        "name" : "Cloud Provider Ranker",
        "description" : "Returns the service/resource offers that best fit the deployment requiments",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "46",
      "tags" : "Element,Software System",
      "properties" : {
        "structurizr.dsl.identifier" : "deepaas"
      },
      "name" : "AI as a Service",
      "description" : "Allows users to deploy an AI application as a service.",
      "relationships" : [ {
        "id" : "150",
        "sourceId" : "46",
        "destinationId" : "53",
        "description" : "Read/store data",
        "linkedRelationshipId" : "149"
      }, {
        "id" : "152",
        "sourceId" : "46",
        "destinationId" : "54",
        "description" : "Read/store data",
        "linkedRelationshipId" : "151"
      }, {
        "id" : "154",
        "sourceId" : "46",
        "destinationId" : "55",
        "description" : "Read/store data",
        "linkedRelationshipId" : "153"
      }, {
        "id" : "156",
        "sourceId" : "46",
        "destinationId" : "56",
        "description" : "Read/store data",
        "linkedRelationshipId" : "155"
      }, {
        "id" : "158",
        "sourceId" : "46",
        "destinationId" : "57",
        "description" : "Read/store data",
        "linkedRelationshipId" : "157"
      } ],
      "location" : "Internal",
      "containers" : [ {
        "id" : "49",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "kubernetes"
        },
        "name" : "Kubernetes API",
        "relationships" : [ {
          "id" : "147",
          "tags" : "Relationship",
          "sourceId" : "49",
          "destinationId" : "52",
          "description" : "Create jobs"
        } ],
        "group" : "OSCAR",
        "documentation" : { }
      }, {
        "id" : "48",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "oscar"
        },
        "name" : "OSCAR Manager",
        "relationships" : [ {
          "id" : "143",
          "tags" : "Relationship",
          "sourceId" : "48",
          "destinationId" : "50",
          "description" : "Manage buckets, folders, event and notifications"
        }, {
          "id" : "144",
          "tags" : "Relationship",
          "sourceId" : "48",
          "destinationId" : "49",
          "description" : "Manage services"
        }, {
          "id" : "145",
          "tags" : "Relationship",
          "sourceId" : "48",
          "destinationId" : "51",
          "description" : "Execute services synchronously"
        } ],
        "group" : "OSCAR",
        "documentation" : { }
      }, {
        "id" : "47",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "ai4compose"
        },
        "name" : "AI4Compose",
        "relationships" : [ {
          "id" : "142",
          "tags" : "Relationship",
          "sourceId" : "47",
          "destinationId" : "48",
          "description" : "Trigger inference"
        } ],
        "documentation" : { }
      }, {
        "id" : "50",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "minio"
        },
        "name" : "MinIO",
        "group" : "OSCAR",
        "documentation" : { }
      }, {
        "id" : "51",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "knative"
        },
        "name" : "Knative",
        "relationships" : [ {
          "id" : "146",
          "tags" : "Relationship",
          "sourceId" : "51",
          "destinationId" : "52",
          "description" : "Assign to function's pod(s)"
        } ],
        "group" : "OSCAR",
        "documentation" : { }
      }, {
        "id" : "52",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "faass"
        },
        "name" : "FaaS Supervisor",
        "relationships" : [ {
          "id" : "148",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "50",
          "description" : "Download input. Upload output"
        }, {
          "id" : "149",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "53",
          "description" : "Read/store data"
        }, {
          "id" : "151",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "54",
          "description" : "Read/store data"
        }, {
          "id" : "153",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "55",
          "description" : "Read/store data"
        }, {
          "id" : "155",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "56",
          "description" : "Read/store data"
        }, {
          "id" : "157",
          "tags" : "Relationship",
          "sourceId" : "52",
          "destinationId" : "57",
          "description" : "Read/store data"
        } ],
        "group" : "OSCAR",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "53",
      "tags" : "Element,Software System,external",
      "properties" : {
        "structurizr.dsl.identifier" : "storage"
      },
      "name" : "Storage Services",
      "description" : "External storage where data assets are stored.",
      "location" : "External",
      "containers" : [ {
        "id" : "54",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "s3"
        },
        "name" : "Amazon S3",
        "group" : "External Storage Provider",
        "documentation" : { }
      }, {
        "id" : "56",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "onedata"
        },
        "name" : "Onedata",
        "group" : "External Storage Provider",
        "documentation" : { }
      }, {
        "id" : "55",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "minioexternal"
        },
        "name" : "MinIO External",
        "group" : "External Storage Provider",
        "documentation" : { }
      }, {
        "id" : "57",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "dcache"
        },
        "name" : "dCache",
        "group" : "External Storage Provider",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "58",
      "tags" : "Element,Software System,external",
      "properties" : {
        "structurizr.dsl.identifier" : "cloud_providers"
      },
      "name" : "Cloud/HPC Providers",
      "relationships" : [ {
        "id" : "132",
        "tags" : "Relationship",
        "sourceId" : "58",
        "destinationId" : "21",
        "description" : "offer"
      }, {
        "id" : "133",
        "sourceId" : "58",
        "destinationId" : "6",
        "description" : "offer",
        "linkedRelationshipId" : "132"
      }, {
        "id" : "134",
        "tags" : "Relationship",
        "sourceId" : "58",
        "destinationId" : "41",
        "description" : "register/update service & resources metadata"
      }, {
        "id" : "135",
        "sourceId" : "58",
        "destinationId" : "38",
        "description" : "register/update service & resources metadata",
        "linkedRelationshipId" : "134"
      }, {
        "id" : "136",
        "tags" : "Relationship",
        "sourceId" : "58",
        "destinationId" : "42",
        "description" : "push/pull metrics"
      } ],
      "location" : "External",
      "documentation" : { }
    } ],
    "deploymentNodes" : [ {
      "id" : "162",
      "tags" : "Element,Deployment Node",
      "name" : "GitHub / Gitlab",
      "environment" : "Production",
      "instances" : "1",
      "containerInstances" : [ {
        "id" : "163",
        "tags" : "Container Instance",
        "environment" : "Production",
        "deploymentGroups" : [ "Global deployment" ],
        "instanceId" : 1,
        "containerId" : "9"
      }, {
        "id" : "164",
        "tags" : "Container Instance",
        "environment" : "Production",
        "deploymentGroups" : [ "Global deployment" ],
        "instanceId" : 1,
        "containerId" : "8"
      }, {
        "id" : "165",
        "tags" : "Container Instance",
        "environment" : "Production",
        "deploymentGroups" : [ "Global deployment" ],
        "instanceId" : 1,
        "containerId" : "45"
      } ]
    }, {
      "id" : "166",
      "tags" : "Element,Deployment Node",
      "name" : "DockerHub",
      "environment" : "Production",
      "instances" : "1",
      "containerInstances" : [ {
        "id" : "167",
        "tags" : "Container Instance",
        "environment" : "Production",
        "deploymentGroups" : [ "Global deployment" ],
        "instanceId" : 1,
        "containerId" : "10"
      } ]
    }, {
      "id" : "168",
      "tags" : "Element,Deployment Node",
      "name" : "IFCA-CSIC",
      "environment" : "Production",
      "instances" : "1",
      "children" : [ {
        "id" : "169",
        "tags" : "Element,Deployment Node",
        "name" : "IFCA Cloud",
        "environment" : "Production",
        "technology" : "OpenStack",
        "instances" : "1",
        "children" : [ {
          "id" : "172",
          "tags" : "Element,Deployment Node",
          "name" : "AI4 Control pane",
          "environment" : "Production",
          "technology" : "Kubernetes",
          "instances" : "1",
          "containerInstances" : [ {
            "id" : "180",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "183",
              "sourceId" : "180",
              "destinationId" : "182",
              "description" : "Stores training data in",
              "linkedRelationshipId" : "74"
            }, {
              "id" : "192",
              "sourceId" : "180",
              "destinationId" : "191",
              "description" : "Create training job, interactive environment using API calls to",
              "linkedRelationshipId" : "73"
            }, {
              "id" : "206",
              "sourceId" : "180",
              "destinationId" : "205",
              "description" : "Create training job, interactive environment using API calls to",
              "linkedRelationshipId" : "73"
            }, {
              "id" : "218",
              "sourceId" : "180",
              "destinationId" : "217",
              "description" : "Authenticates users with",
              "linkedRelationshipId" : "83"
            }, {
              "id" : "234",
              "sourceId" : "180",
              "destinationId" : "233",
              "description" : "Create training job, interactive environment using API calls to",
              "linkedRelationshipId" : "73"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Nomad Cluster", "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "17"
          }, {
            "id" : "187",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "188",
              "sourceId" : "187",
              "destinationId" : "163",
              "description" : "Reacts to events from",
              "linkedRelationshipId" : "100"
            }, {
              "id" : "189",
              "sourceId" : "187",
              "destinationId" : "167",
              "description" : "Creates containers",
              "linkedRelationshipId" : "101"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "13"
          }, {
            "id" : "178",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "11"
          }, {
            "id" : "182",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "18"
          }, {
            "id" : "184",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "185",
              "sourceId" : "184",
              "destinationId" : "163",
              "description" : "Ensures QA aspects",
              "linkedRelationshipId" : "99"
            }, {
              "id" : "186",
              "sourceId" : "184",
              "destinationId" : "164",
              "description" : "Ensures QA aspects",
              "linkedRelationshipId" : "98"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "12"
          }, {
            "id" : "173",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "174",
              "sourceId" : "173",
              "destinationId" : "163",
              "description" : "Reads from",
              "linkedRelationshipId" : "93"
            }, {
              "id" : "175",
              "sourceId" : "173",
              "destinationId" : "164",
              "description" : "Reads from",
              "linkedRelationshipId" : "92"
            }, {
              "id" : "176",
              "sourceId" : "173",
              "destinationId" : "167",
              "description" : "Reads from",
              "linkedRelationshipId" : "94"
            }, {
              "id" : "179",
              "sourceId" : "173",
              "destinationId" : "178",
              "description" : "Reads from writes to",
              "linkedRelationshipId" : "104"
            }, {
              "id" : "220",
              "sourceId" : "173",
              "destinationId" : "217",
              "description" : "Authenticates users with",
              "linkedRelationshipId" : "82"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "7"
          } ]
        }, {
          "id" : "190",
          "tags" : "Element,Deployment Node,",
          "name" : "vm*.cloud.ifca.es",
          "environment" : "Production",
          "instances" : "100",
          "containerInstances" : [ {
            "id" : "195",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "200",
              "sourceId" : "195",
              "destinationId" : "199",
              "description" : "Gets updated model, sends new weights",
              "linkedRelationshipId" : "80"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "IFCA Cloud Instance" ],
            "instanceId" : 1,
            "containerId" : "23"
          }, {
            "id" : "193",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "196",
              "sourceId" : "193",
              "destinationId" : "195",
              "description" : "Executes user model in a",
              "linkedRelationshipId" : "78"
            }, {
              "id" : "198",
              "sourceId" : "193",
              "destinationId" : "197",
              "description" : "Create on-demand environments",
              "linkedRelationshipId" : "77"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "IFCA Cloud Instance" ],
            "instanceId" : 1,
            "containerId" : "21"
          }, {
            "id" : "199",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "IFCA Cloud Instance", "FL deployment" ],
            "instanceId" : 1,
            "containerId" : "22"
          }, {
            "id" : "191",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "194",
              "sourceId" : "191",
              "destinationId" : "193",
              "description" : "Create new task/workload",
              "linkedRelationshipId" : "76"
            }, {
              "id" : "201",
              "sourceId" : "191",
              "destinationId" : "199",
              "description" : "Creates",
              "linkedRelationshipId" : "79"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Nomad Cluster", "IFCA Cloud Instance" ],
            "instanceId" : 1,
            "containerId" : "20"
          }, {
            "id" : "197",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "IFCA Cloud Instance" ],
            "instanceId" : 1,
            "containerId" : "19"
          } ]
        }, {
          "id" : "170",
          "tags" : "Element,Deployment Node",
          "name" : "dasboard.ai4eosc.eu",
          "environment" : "Production",
          "technology" : "nginx",
          "instances" : "1",
          "containerInstances" : [ {
            "id" : "171",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "177",
              "sourceId" : "171",
              "destinationId" : "173",
              "description" : "Reads available models from",
              "linkedRelationshipId" : "91"
            }, {
              "id" : "181",
              "sourceId" : "171",
              "destinationId" : "180",
              "description" : "Define new trainings, check training status, etc.",
              "linkedRelationshipId" : "72"
            }, {
              "id" : "219",
              "sourceId" : "171",
              "destinationId" : "217",
              "description" : "Authenticates users with",
              "linkedRelationshipId" : "84"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "16"
          } ]
        } ]
      } ]
    }, {
      "id" : "202",
      "tags" : "Element,Deployment Node",
      "name" : "IISAS",
      "environment" : "Production",
      "instances" : "1",
      "children" : [ {
        "id" : "203",
        "tags" : "Element,Deployment Node",
        "name" : "cloud.ui.sav.sk",
        "environment" : "Production",
        "instances" : "1",
        "children" : [ {
          "id" : "204",
          "tags" : "Element,Deployment Node,",
          "name" : "vm*",
          "environment" : "Production",
          "instances" : "10",
          "containerInstances" : [ {
            "id" : "209",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "iisas_container"
            },
            "relationships" : [ {
              "id" : "210",
              "sourceId" : "209",
              "destinationId" : "199",
              "description" : "Gets updated model, sends new weights",
              "linkedRelationshipId" : "80"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "IISAS Cloud", "FL deployment" ],
            "instanceId" : 1,
            "containerId" : "23"
          }, {
            "id" : "207",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "iisas_resources"
            },
            "relationships" : [ {
              "id" : "211",
              "sourceId" : "207",
              "destinationId" : "209",
              "description" : "Executes user model in a",
              "linkedRelationshipId" : "78"
            }, {
              "id" : "213",
              "sourceId" : "207",
              "destinationId" : "212",
              "description" : "Create on-demand environments",
              "linkedRelationshipId" : "77"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "IISAS Cloud" ],
            "instanceId" : 1,
            "containerId" : "21"
          }, {
            "id" : "212",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "iisas_dev"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "IISAS Cloud" ],
            "instanceId" : 1,
            "containerId" : "19"
          }, {
            "id" : "205",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "iisas_coe"
            },
            "relationships" : [ {
              "id" : "208",
              "sourceId" : "205",
              "destinationId" : "207",
              "description" : "Create new task/workload",
              "linkedRelationshipId" : "76"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Nomad Cluster", "IISAS Cloud" ],
            "instanceId" : 1,
            "containerId" : "20"
          } ]
        } ]
      } ]
    }, {
      "id" : "214",
      "tags" : "Element,Deployment Node",
      "name" : "INFN-CNAF",
      "environment" : "Production",
      "instances" : "1",
      "children" : [ {
        "id" : "215",
        "tags" : "Element,Deployment Node",
        "name" : "cloud.cnaf.infn.it",
        "environment" : "Production",
        "instances" : "1",
        "children" : [ {
          "id" : "221",
          "tags" : "Element,Deployment Node",
          "name" : "AI4 Control pane",
          "environment" : "Production",
          "technology" : "Kubernetes",
          "instances" : "1",
          "containerInstances" : [ {
            "id" : "226",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_tdb"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "18"
          }, {
            "id" : "229",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_cd"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "13"
          }, {
            "id" : "225",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_tapi"
            },
            "relationships" : [ {
              "id" : "227",
              "sourceId" : "225",
              "destinationId" : "226",
              "description" : "Stores training data in",
              "linkedRelationshipId" : "74"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "17"
          }, {
            "id" : "222",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_eapi"
            },
            "relationships" : [ {
              "id" : "224",
              "sourceId" : "222",
              "destinationId" : "223",
              "description" : "Reads from writes to",
              "linkedRelationshipId" : "104"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "7"
          }, {
            "id" : "228",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_ci"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "12"
          }, {
            "id" : "223",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "cnaf_edb"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-CNAF Cloud" ],
            "instanceId" : 1,
            "containerId" : "11"
          } ]
        }, {
          "id" : "216",
          "tags" : "Element,Deployment Node",
          "name" : "iam.ai4eosc.eu",
          "environment" : "Production",
          "technology" : "nginx",
          "instances" : "1",
          "containerInstances" : [ {
            "id" : "217",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "14"
          } ]
        } ]
      } ]
    }, {
      "id" : "230",
      "tags" : "Element,Deployment Node",
      "name" : "INFN-BARI",
      "environment" : "Production",
      "instances" : "1",
      "children" : [ {
        "id" : "231",
        "tags" : "Element,Deployment Node",
        "name" : "cloud.ba.infn.it",
        "environment" : "Production",
        "instances" : "1",
        "children" : [ {
          "id" : "242",
          "tags" : "Element,Deployment Node",
          "name" : "paas.ai4eosc.eu",
          "environment" : "Production",
          "technology" : "nginx",
          "instances" : "1",
          "containerInstances" : [ {
            "id" : "249",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "41"
          }, {
            "id" : "253",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "43"
          }, {
            "id" : "251",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "252",
              "sourceId" : "251",
              "destinationId" : "249",
              "description" : "Send aggregated metrics",
              "linkedRelationshipId" : "128"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "42"
          }, {
            "id" : "248",
            "tags" : "Container Instance",
            "environment" : "Production",
            "deploymentGroups" : [ "Default" ],
            "instanceId" : 1,
            "containerId" : "44"
          }, {
            "id" : "243",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "244",
              "sourceId" : "243",
              "destinationId" : "165",
              "description" : "Read topologies",
              "linkedRelationshipId" : "124"
            }, {
              "id" : "246",
              "sourceId" : "243",
              "destinationId" : "245",
              "description" : "Create deployment",
              "linkedRelationshipId" : "123"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "39"
          }, {
            "id" : "245",
            "tags" : "Container Instance",
            "relationships" : [ {
              "id" : "247",
              "sourceId" : "245",
              "destinationId" : "165",
              "description" : "Read topologies",
              "linkedRelationshipId" : "125"
            }, {
              "id" : "250",
              "sourceId" : "245",
              "destinationId" : "249",
              "description" : "Get information",
              "linkedRelationshipId" : "127"
            }, {
              "id" : "254",
              "sourceId" : "245",
              "destinationId" : "253",
              "description" : "Get matching offers",
              "linkedRelationshipId" : "129"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Global deployment" ],
            "instanceId" : 1,
            "containerId" : "40"
          } ]
        }, {
          "id" : "232",
          "tags" : "Element,Deployment Node,",
          "name" : "vm*",
          "environment" : "Production",
          "instances" : "10",
          "containerInstances" : [ {
            "id" : "235",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "bari_resources"
            },
            "relationships" : [ {
              "id" : "239",
              "sourceId" : "235",
              "destinationId" : "237",
              "description" : "Executes user model in a",
              "linkedRelationshipId" : "78"
            }, {
              "id" : "241",
              "sourceId" : "235",
              "destinationId" : "240",
              "description" : "Create on-demand environments",
              "linkedRelationshipId" : "77"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-BARI Cloud" ],
            "instanceId" : 1,
            "containerId" : "21"
          }, {
            "id" : "240",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "bari_dev"
            },
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-BARI Cloud" ],
            "instanceId" : 1,
            "containerId" : "19"
          }, {
            "id" : "233",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "bari_coe"
            },
            "relationships" : [ {
              "id" : "236",
              "sourceId" : "233",
              "destinationId" : "235",
              "description" : "Create new task/workload",
              "linkedRelationshipId" : "76"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "Nomad Cluster", "INFN-BARI Cloud" ],
            "instanceId" : 1,
            "containerId" : "20"
          }, {
            "id" : "237",
            "tags" : "Container Instance",
            "properties" : {
              "structurizr.dsl.identifier" : "bari_container"
            },
            "relationships" : [ {
              "id" : "238",
              "sourceId" : "237",
              "destinationId" : "199",
              "description" : "Gets updated model, sends new weights",
              "linkedRelationshipId" : "80"
            } ],
            "environment" : "Production",
            "deploymentGroups" : [ "INFN-BARI Cloud", "FL deployment" ],
            "instanceId" : 1,
            "containerId" : "23"
          } ]
        } ]
      } ]
    }, {
      "id" : "255",
      "tags" : "Element,Deployment Node",
      "name" : "External resources",
      "environment" : "Production",
      "instances" : "1",
      "containerInstances" : [ {
        "id" : "256",
        "tags" : "Container Instance",
        "relationships" : [ {
          "id" : "257",
          "sourceId" : "256",
          "destinationId" : "199",
          "description" : "Gets updated model, sends weights to server",
          "linkedRelationshipId" : "30"
        } ],
        "environment" : "Production",
        "deploymentGroups" : [ "FL deployment" ],
        "instanceId" : 1,
        "containerId" : "29"
      } ]
    } ]
  },
  "documentation" : {
    "decisions" : [ {
      "content" : "# 1. Initial architecture: DEEP-Hybrid-DataCloud\n\nDate: 2022-04-11\n\n## Status\n\nAccepted\n\n## Context\n\nThe AI4EOSC will leverage the DEEP-Hybrid-DataCloud project architecture and\nrecord the architectural decisions made on it.\n\n## Decision\n\nWe describe the DEEP-Hybrid-DataCloud architecture using the C4 model.  We will\nuse Architecture Decision Records, as [described by Michael\nNygard](http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions).\n",
      "format" : "Markdown",
      "id" : "1",
      "title" : "Initial architecture: DEEP-Hybrid-DataCloud",
      "date" : "2022-04-11T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 2. Remove A4C from AI4EOSC architecture\n\nDate: 2022-05-03\n\n## Status\n\nAccepted\n\n## Context\n\nA4C was not really being used after the DEEP project. It is an external\nproject, not managed by us, and with limited interest for PaaS operators.\n\n## Decision\n\nA4C is deprecated and removed.\n\n## Consequences\n\nNo consequences.\n",
      "format" : "Markdown",
      "id" : "2",
      "title" : "Remove A4C from AI4EOSC architecture",
      "date" : "2022-05-03T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 3. Decouple orchestrator from training system\n\nDate: 2022-05-03\n\n## Status\n\nAccepted\n\nExtended by [8. Use Nomad as workload management system](#8)\n\n## Context\n\nCurrently we are using the INDIGO PaaS orchestrator as the tool that provisions\nthe infrastructure and to submit user tasks (i.e. training and request for new\ndevelopment environments) acting as the workload management system. This is\nsub-optimal, as the PaaS orchestrator is built on a generic way, creating\nadditional complexity that we must hide in the dashboard (i.e. removing TOSCA\ncomplexity).\n\n## Decision\n\nThe decision is to decouple the PaaS orchestration from the user workload\nmanagement.\n\n## Consequences\n\nThe PaaS orchestrator will be in charge of the provisioning of the AI4EOSC\nplatform and to provision additional resources when needed. As a side effect,\ntaking into account the Mesos is deprecated, we propose to utilzie Hashicorp\nNomad as a substitute for the orchestration of containers, acting as the new\nworkload management system due to its ability to work in distributed scenarios.\n\nA new API must be developed, as an interface between our dashboard and the\nworkload management system and existing tools must be adapted.\n",
      "format" : "Markdown",
      "id" : "3",
      "title" : "Decouple orchestrator from training system",
      "date" : "2022-05-03T00:00:00Z",
      "status" : "Accepted",
      "links" : [ {
        "id" : "8",
        "description" : "Extended by"
      } ]
    }, {
      "content" : "# 4. Add order system for user management\n\nDate: 2022-05-03\n\n## Status\n\nAccepted\n\n## Context\n\nWe need a way to track the new requests coming from the EOSC portal, as the\nEOSC ordering system is incomplete.\n\n## Decision\n\nImplement an order service so that we can keep track of orders coming from the\nportal or for new users coming directly to our platform.\n\n## Consequences\n\nImplement an ordering application with direct links with the IAM.\n",
      "format" : "Markdown",
      "id" : "4",
      "title" : "Add order system for user management",
      "date" : "2022-05-03T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 5. Merge exchange and dashboard into single component\n\nDate: 2023-01-23\n\n## Status\n\nAccepted\n\n## Context\n\nThe current architecture has two different components that provide more or less\nthe same information: The model marketplace and the training dashboard. The\nformer is basically read-only ccontent, and the latter is where users develop\ntheir models.\n\n## Decision\n\nSince the training dashboard also offers access to existing models (for\nretraining), it makes sense to have a single component with different views:\nanonymous to serve the marketplace contents, authenticated to allow training\nand development.\n\n## Consequences\n\nA single component will be maintained, withour the need for two separate\nportals. Information presentation will be more consistent. Besides, new APIs\nneed to be developed.\n",
      "format" : "Markdown",
      "id" : "5",
      "title" : "Merge exchange and dashboard into single component",
      "date" : "2023-01-23T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 6. Use OSCAR for the DEEP as a Service system\n\nDate: 2023-01-10\n\n## Status\n\nAccepted\n\n## Context\n\nAfter the model has been trained in the platform, we need to deploy it in a \nproduction environment and host the model on a cloud-based platform, using \na containerization technology such as Docker. This will allow users to obtain \ninsights from the new data collected and take action based on the predictions \nmade by the model.\n\n\n## Decision\n\nThe implementation of the DEEP as a Service will be based on the open-source \n[OSCAR](https://oscar.grycap.net) serverless computing platform for data-processing \napplications. Users upload files to an object-storage system (provided by MinIO) \nand this automatically triggers the execution of parallel invocations to a function\n(OSCAR service) responsible for processing each file. Output files are delivered into\nan output bucket for the convenience of the user. A user-provided shell script is \nexecuted inside the container run from the user-defined Docker image to achieve \nthe right execution environment for the application.\n\nThe usage of OSCAR involves also other tools and technologies, like the \n[Infrastructure Manager](https://www.grycap.upv.es/im), to deploy OSCAR on top of an \nelastic Kubernetes cluster dynamically provisioned on any supported Cloud provider. \nFor clusters of low-powered devices such as Raspberry PIs, OSCAR can be deployed over \na minimalistic Kubernetes distribution such as [K3s](https://k3s.io/). Synchronous \ninvocations, required for short-lived inference requests, are handled via [KNative](https://knative.dev).\n\n## Consequences\n\nOSCAR needs to be integrated with the rest of the corresponding components of the \nAI4EOSC platform.\n",
      "format" : "Markdown",
      "id" : "6",
      "title" : "Use OSCAR for the DEEP as a Service system",
      "date" : "2023-01-10T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 7. Replace legacy and unmaintained PaaS components\n\nDate: 2023-01-10\n\n## Status\n\nAccepted\n\n## Context\n\nThe PaaS Orchestrator scheduling capability is based on the information provided by the CMDB \n(Configuration Management Database) and the Monitoring System. The CMDB is responsible for \nstoring and managing the description of providers and their services, resources, and virtual \nmachine images, flavors, and networks. The Monitoring system collects data about the status \nhealth of the provider services and their performances. These information are then used by \nthe Orchestrator to select the best provider for the user deployment.\nBoth CMDB and the Monitoring system are currently based on legacy, unmaintained software \ncomponents  that represent a risk for the stability and security of the platform.\n\n## Decision\n\nThe old, unmaintained and vulnerable components will be replaced with new open-source solutions. \nThe new services must be scalable, reliable, and secure, with a focus on data accuracy and consistency. \nThis will involve implementing robust data validation and error handling mechanisms, as well as \nappropriate security measures such as authentication and access control.\n\n\n## Consequences\n\nThe new services will be integrated within the PaaS layer.\n",
      "format" : "Markdown",
      "id" : "7",
      "title" : "Replace legacy and unmaintained PaaS components",
      "date" : "2023-01-10T00:00:00Z",
      "status" : "Accepted"
    }, {
      "content" : "# 8. Use Nomad as workload management system\n\nDate: 2023-02-01\n\n## Status\n\nAccepted\n\nExtends [3. Decouple orchestrator from training system](#3)\n\n## Context\n\nThe DEEP platform used Apache Mesos and the INDIGO PaaS orchestrator to execute\nthe user training jobs. Apache Mesos is now being phased out, and therefore a\nnew solution needs to be integrated.\n\n## Decision\n\nAI4EOSC will use Hashicorp Nomad (and related tools like Consul) to deliver a\nplatform layer where the user workloads will be executed. Nomad provides\ndistributed scheduling across multiple sites, and a much simpler management\nwhen compared with analogous orchestration engines, like Kubernetes.\n\n## Consequences\n\nA new API will be delivered for the AI4EOSC platform, as already explained in\n[Decision 3](#3). This API will\ntherefore interact with the Nomad userver, using a robot account approach (i.e.\na single user submitting jobs on behalf of the original user), embedding the\nneeded metadata in the Nomad job.\n",
      "format" : "Markdown",
      "id" : "8",
      "title" : "Use Nomad as workload management system",
      "date" : "2023-02-01T00:00:00Z",
      "status" : "Accepted",
      "links" : [ {
        "id" : "3",
        "description" : "Extends"
      } ]
    } ]
  },
  "views" : {
    "systemLandscapeViews" : [ {
      "key" : "eosc",
      "order" : 1,
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "2",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "3",
        "x" : 0,
        "y" : 0
      } ],
      "relationships" : [ {
        "id" : "4"
      } ]
    }, {
      "key" : "system_view",
      "order" : 2,
      "dimensions" : {
        "width" : 3435,
        "height" : 2578
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 2765,
        "y" : 1881
      }, {
        "id" : "2",
        "x" : 2765,
        "y" : 301
      }, {
        "id" : "46",
        "x" : 885,
        "y" : 735
      }, {
        "id" : "3",
        "x" : 2740,
        "y" : 876
      }, {
        "id" : "58",
        "x" : 1925,
        "y" : 1985
      }, {
        "id" : "59",
        "x" : 200,
        "y" : 635
      }, {
        "id" : "38",
        "x" : 885,
        "y" : 1985
      }, {
        "id" : "5",
        "x" : 200,
        "y" : 1885
      }, {
        "id" : "6",
        "x" : 1925,
        "y" : 735
      }, {
        "id" : "31",
        "x" : 1405,
        "y" : 1370
      }, {
        "id" : "53",
        "x" : 1925,
        "y" : 200
      } ],
      "relationships" : [ {
        "id" : "61"
      }, {
        "id" : "60"
      }, {
        "id" : "63",
        "vertices" : [ {
          "x" : 1900,
          "y" : 1810
        } ]
      }, {
        "id" : "62"
      }, {
        "id" : "65"
      }, {
        "id" : "64"
      }, {
        "id" : "150"
      }, {
        "id" : "4",
        "position" : 100
      }, {
        "id" : "67"
      }, {
        "id" : "66"
      }, {
        "id" : "135"
      }, {
        "id" : "88"
      }, {
        "id" : "69"
      }, {
        "id" : "68"
      }, {
        "id" : "133"
      } ]
    } ],
    "systemContextViews" : [ {
      "key" : "orchestration_view",
      "order" : 4,
      "softwareSystemId" : "38",
      "dimensions" : {
        "width" : 1614,
        "height" : 2099
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "46",
        "x" : 561,
        "y" : 1506
      }, {
        "id" : "58",
        "x" : 944,
        "y" : 300
      }, {
        "id" : "38",
        "x" : 220,
        "y" : 900
      }, {
        "id" : "5",
        "x" : 245,
        "y" : 200
      }, {
        "id" : "6",
        "x" : 944,
        "y" : 911
      } ],
      "relationships" : [ {
        "id" : "61"
      }, {
        "id" : "63"
      }, {
        "id" : "64"
      }, {
        "id" : "67"
      }, {
        "id" : "135"
      }, {
        "id" : "133"
      } ]
    }, {
      "key" : "mlops_view",
      "order" : 6,
      "softwareSystemId" : "31",
      "dimensions" : {
        "width" : 2210,
        "height" : 1397
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "46",
        "x" : 1539,
        "y" : 799
      }, {
        "id" : "6",
        "x" : 219,
        "y" : 804
      }, {
        "id" : "31",
        "x" : 879,
        "y" : 219
      } ],
      "relationships" : [ {
        "id" : "67"
      }, {
        "id" : "69"
      }, {
        "id" : "68"
      } ]
    }, {
      "key" : "ai4eosc_view",
      "order" : 3,
      "softwareSystemId" : "6",
      "dimensions" : {
        "width" : 3530,
        "height" : 2487
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 2100,
        "y" : 200
      }, {
        "id" : "2",
        "x" : 2860,
        "y" : 1185
      }, {
        "id" : "46",
        "x" : 220,
        "y" : 780
      }, {
        "id" : "3",
        "x" : 2860,
        "y" : 780
      }, {
        "id" : "58",
        "x" : 2075,
        "y" : 1895
      }, {
        "id" : "38",
        "x" : 220,
        "y" : 1895
      }, {
        "id" : "6",
        "x" : 1415,
        "y" : 1202
      }, {
        "id" : "53",
        "x" : 1410,
        "y" : 300
      }, {
        "id" : "31",
        "x" : 650,
        "y" : 1415
      } ],
      "relationships" : [ {
        "id" : "60"
      }, {
        "id" : "63",
        "vertices" : [ {
          "x" : 1470,
          "y" : 1810
        } ]
      }, {
        "id" : "65"
      }, {
        "id" : "150"
      }, {
        "id" : "64"
      }, {
        "id" : "4"
      }, {
        "id" : "67"
      }, {
        "id" : "66"
      }, {
        "id" : "135"
      }, {
        "id" : "69"
      }, {
        "id" : "88"
      }, {
        "id" : "68"
      }, {
        "id" : "133"
      } ]
    }, {
      "key" : "deepaas_view",
      "order" : 5,
      "softwareSystemId" : "46",
      "dimensions" : {
        "width" : 2633,
        "height" : 2526
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "46",
        "x" : 939,
        "y" : 898
      }, {
        "id" : "59",
        "x" : 200,
        "y" : 848
      }, {
        "id" : "38",
        "x" : 1451,
        "y" : 1933
      }, {
        "id" : "6",
        "x" : 1964,
        "y" : 888
      }, {
        "id" : "53",
        "x" : 1451,
        "y" : 199
      }, {
        "id" : "31",
        "x" : 1451,
        "y" : 1415
      } ],
      "relationships" : [ {
        "id" : "63",
        "vertices" : [ {
          "x" : 2190,
          "y" : 1804
        } ]
      }, {
        "id" : "62"
      }, {
        "id" : "65"
      }, {
        "id" : "150"
      }, {
        "id" : "64",
        "vertices" : [ {
          "x" : 1205,
          "y" : 1789
        } ]
      }, {
        "id" : "67"
      }, {
        "id" : "69"
      }, {
        "id" : "68"
      } ]
    } ],
    "containerViews" : [ {
      "key" : "ai4eosc_container_view",
      "order" : 8,
      "softwareSystemId" : "6",
      "dimensions" : {
        "width" : 5444,
        "height" : 3668
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "22",
        "x" : 3328,
        "y" : 2165
      }, {
        "id" : "23",
        "x" : 2679,
        "y" : 2319
      }, {
        "id" : "46",
        "x" : 1213,
        "y" : 2919
      }, {
        "id" : "31",
        "x" : 2139,
        "y" : 2919
      }, {
        "id" : "53",
        "x" : 288,
        "y" : 2919
      }, {
        "id" : "10",
        "x" : 1522,
        "y" : 1595
      }, {
        "id" : "11",
        "x" : 2139,
        "y" : 1610
      }, {
        "id" : "12",
        "x" : 596,
        "y" : 2319
      }, {
        "id" : "13",
        "x" : 1213,
        "y" : 2319
      }, {
        "id" : "14",
        "x" : 3328,
        "y" : 999
      }, {
        "id" : "58",
        "x" : 4628,
        "y" : 2919
      }, {
        "id" : "15",
        "x" : 4168,
        "y" : 999
      }, {
        "id" : "16",
        "x" : 2679,
        "y" : 999
      }, {
        "id" : "38",
        "x" : 3543,
        "y" : 2919
      }, {
        "id" : "17",
        "x" : 3328,
        "y" : 1594
      }, {
        "id" : "18",
        "x" : 3983,
        "y" : 1594
      }, {
        "id" : "19",
        "x" : 4628,
        "y" : 1594
      }, {
        "id" : "1",
        "x" : 2620,
        "y" : 200
      }, {
        "id" : "2",
        "x" : 3328,
        "y" : 534
      }, {
        "id" : "3",
        "x" : 4168,
        "y" : 539
      }, {
        "id" : "7",
        "x" : 1213,
        "y" : 1029
      }, {
        "id" : "8",
        "x" : 288,
        "y" : 1594
      }, {
        "id" : "9",
        "x" : 905,
        "y" : 1594
      }, {
        "id" : "20",
        "x" : 3983,
        "y" : 2044
      }, {
        "id" : "21",
        "x" : 4628,
        "y" : 2319
      } ],
      "relationships" : [ {
        "id" : "70"
      }, {
        "id" : "93"
      }, {
        "id" : "94"
      }, {
        "id" : "72"
      }, {
        "id" : "91"
      }, {
        "id" : "92"
      }, {
        "id" : "71",
        "vertices" : [ {
          "x" : 4884,
          "y" : 421
        } ]
      }, {
        "id" : "74"
      }, {
        "id" : "73"
      }, {
        "id" : "98"
      }, {
        "id" : "76"
      }, {
        "id" : "75"
      }, {
        "id" : "150"
      }, {
        "id" : "90"
      }, {
        "id" : "135"
      }, {
        "id" : "132"
      }, {
        "id" : "89",
        "vertices" : [ {
          "x" : 3558,
          "y" : 874
        } ]
      }, {
        "id" : "68"
      }, {
        "id" : "82",
        "vertices" : [ {
          "x" : 2643,
          "y" : 1524
        } ]
      }, {
        "id" : "83"
      }, {
        "id" : "80"
      }, {
        "id" : "81"
      }, {
        "id" : "86",
        "vertices" : [ {
          "x" : 2893,
          "y" : 3305
        }, {
          "x" : 523,
          "y" : 3300
        } ]
      }, {
        "id" : "87"
      }, {
        "id" : "84"
      }, {
        "id" : "85",
        "vertices" : [ {
          "x" : 5209,
          "y" : 1740
        }, {
          "x" : 5203,
          "y" : 3310
        }, {
          "x" : 523,
          "y" : 3300
        } ]
      }, {
        "id" : "64",
        "vertices" : [ {
          "x" : 3194,
          "y" : 3360
        }, {
          "x" : 1509,
          "y" : 3375
        } ]
      }, {
        "id" : "108",
        "vertices" : [ {
          "x" : 2204,
          "y" : 3410
        }, {
          "x" : 224,
          "y" : 3410
        }, {
          "x" : 224,
          "y" : 2040
        } ]
      }, {
        "id" : "107",
        "vertices" : [ {
          "x" : 2709,
          "y" : 1990
        } ]
      }, {
        "id" : "109"
      }, {
        "id" : "4",
        "vertices" : [ {
          "x" : 3938,
          "y" : 455
        } ]
      }, {
        "id" : "78",
        "vertices" : [ {
          "x" : 3584,
          "y" : 2620
        } ]
      }, {
        "id" : "100"
      }, {
        "id" : "77"
      }, {
        "id" : "102"
      }, {
        "id" : "99"
      }, {
        "id" : "79"
      }, {
        "id" : "101"
      }, {
        "id" : "104"
      }, {
        "id" : "103"
      }, {
        "id" : "106"
      }, {
        "id" : "105"
      } ]
    }, {
      "key" : "deepaas_container_view",
      "order" : 7,
      "softwareSystemId" : "46",
      "dimensions" : {
        "width" : 3279,
        "height" : 2220
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "47",
        "x" : 299,
        "y" : 762
      }, {
        "id" : "48",
        "x" : 1034,
        "y" : 777
      }, {
        "id" : "59",
        "x" : 1035,
        "y" : 25
      }, {
        "id" : "49",
        "x" : 1799,
        "y" : 942
      }, {
        "id" : "38",
        "x" : 1770,
        "y" : 1835
      }, {
        "id" : "6",
        "x" : 1034,
        "y" : 1835
      }, {
        "id" : "50",
        "x" : 1794,
        "y" : 567
      }, {
        "id" : "51",
        "x" : 1790,
        "y" : 1305
      }, {
        "id" : "52",
        "x" : 2529,
        "y" : 927
      }, {
        "id" : "31",
        "x" : 299,
        "y" : 1835
      }, {
        "id" : "53",
        "x" : 2540,
        "y" : 147
      } ],
      "relationships" : [ {
        "id" : "160"
      }, {
        "id" : "63"
      }, {
        "id" : "141"
      }, {
        "id" : "142"
      }, {
        "id" : "161"
      }, {
        "id" : "145"
      }, {
        "id" : "121"
      }, {
        "id" : "146"
      }, {
        "id" : "69"
      }, {
        "id" : "143"
      }, {
        "id" : "144"
      }, {
        "id" : "149"
      }, {
        "id" : "139"
      }, {
        "id" : "159"
      }, {
        "id" : "147"
      }, {
        "id" : "148"
      } ]
    }, {
      "key" : "orchestration_container_view",
      "order" : 10,
      "softwareSystemId" : "38",
      "dimensions" : {
        "width" : 3253,
        "height" : 2658
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "44",
        "x" : 1265,
        "y" : 1655
      }, {
        "id" : "45",
        "x" : 345,
        "y" : 270
      }, {
        "id" : "46",
        "x" : 2610,
        "y" : 1010
      }, {
        "id" : "58",
        "x" : 1265,
        "y" : 2270
      }, {
        "id" : "5",
        "x" : 2628,
        "y" : 220
      }, {
        "id" : "39",
        "x" : 1265,
        "y" : 270
      }, {
        "id" : "6",
        "x" : 2603,
        "y" : 1655
      }, {
        "id" : "40",
        "x" : 1265,
        "y" : 1210
      }, {
        "id" : "41",
        "x" : 345,
        "y" : 765
      }, {
        "id" : "42",
        "x" : 345,
        "y" : 1655
      }, {
        "id" : "43",
        "x" : 1835,
        "y" : 765
      } ],
      "relationships" : [ {
        "id" : "131"
      }, {
        "id" : "129"
      }, {
        "id" : "122"
      }, {
        "id" : "67"
      }, {
        "id" : "134"
      }, {
        "id" : "124"
      }, {
        "id" : "123"
      }, {
        "id" : "133"
      }, {
        "id" : "138"
      }, {
        "id" : "127"
      }, {
        "id" : "128"
      }, {
        "id" : "125"
      }, {
        "id" : "136"
      }, {
        "id" : "126"
      } ]
    }, {
      "key" : "mlops_container_view",
      "order" : 9,
      "softwareSystemId" : "31",
      "dimensions" : {
        "width" : 2935,
        "height" : 2022
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "33",
        "x" : 220,
        "y" : 1425
      }, {
        "id" : "34",
        "x" : 985,
        "y" : 1430
      }, {
        "id" : "46",
        "x" : 2285,
        "y" : 1430
      }, {
        "id" : "35",
        "x" : 985,
        "y" : 800
      }, {
        "id" : "36",
        "x" : 1750,
        "y" : 800
      }, {
        "id" : "6",
        "x" : 985,
        "y" : 200
      }, {
        "id" : "32",
        "x" : 220,
        "y" : 800
      } ],
      "relationships" : [ {
        "id" : "118"
      }, {
        "id" : "37"
      }, {
        "id" : "120"
      }, {
        "id" : "67",
        "vertices" : [ {
          "x" : 2365,
          "y" : 700
        } ]
      }, {
        "id" : "111"
      }, {
        "id" : "113"
      }, {
        "id" : "115"
      }, {
        "id" : "114"
      }, {
        "id" : "117"
      } ]
    } ],
    "dynamicViews" : [ {
      "key" : "manual_retrain_view",
      "order" : 12,
      "title" : "[Dynamic view] Manually retrain a model",
      "dimensions" : {
        "width" : 2510,
        "height" : 2697
      },
      "elementId" : "6",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "70",
        "description" : "Requests available modules",
        "order" : "1",
        "response" : false
      }, {
        "id" : "84",
        "description" : "Checks user credentials",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 1672,
          "y" : 1152
        } ]
      }, {
        "id" : "84",
        "description" : "Returns access token",
        "order" : "3",
        "response" : true,
        "vertices" : [ {
          "x" : 1670,
          "y" : 852
        } ]
      }, {
        "id" : "72",
        "description" : "Requests new training job",
        "order" : "4",
        "response" : false
      }, {
        "id" : "73",
        "description" : "Register new Nomad job, using robot account",
        "order" : "5",
        "response" : false
      }, {
        "id" : "76",
        "description" : "Submit Nomad job to Nomad agent on provisioned resources",
        "order" : "6",
        "response" : false
      }, {
        "id" : "78",
        "description" : "Executes training job as container",
        "order" : "7",
        "response" : false
      }, {
        "id" : "86",
        "description" : "Read training data",
        "order" : "8",
        "response" : true,
        "vertices" : [ {
          "x" : 302,
          "y" : 792
        } ]
      }, {
        "id" : "86",
        "description" : "Write training results",
        "order" : "9",
        "response" : false,
        "vertices" : [ {
          "x" : 602,
          "y" : 782
        } ]
      } ],
      "elements" : [ {
        "id" : "1",
        "x" : 1014,
        "y" : 200
      }, {
        "id" : "23",
        "x" : 240,
        "y" : 1025
      }, {
        "id" : "14",
        "x" : 1820,
        "y" : 875
      }, {
        "id" : "16",
        "x" : 989,
        "y" : 876
      }, {
        "id" : "17",
        "x" : 994,
        "y" : 1452
      }, {
        "id" : "20",
        "x" : 1019,
        "y" : 2030
      }, {
        "id" : "53",
        "x" : 215,
        "y" : 250
      }, {
        "id" : "21",
        "x" : 240,
        "y" : 2030
      } ]
    }, {
      "key" : "develop_view",
      "order" : 11,
      "title" : "[Dynamic view] Develop and register a model",
      "dimensions" : {
        "width" : 3889,
        "height" : 2771
      },
      "elementId" : "6",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "70",
        "description" : "Requests a development environment",
        "order" : "1",
        "response" : false
      }, {
        "id" : "84",
        "description" : "Checks user credentials",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 1672,
          "y" : 1151
        } ]
      }, {
        "id" : "84",
        "description" : "Returns access token",
        "order" : "3",
        "response" : true,
        "vertices" : [ {
          "x" : 1670,
          "y" : 851
        } ]
      }, {
        "id" : "72",
        "description" : "Requests new development enviroment with user access token",
        "order" : "4",
        "response" : false
      }, {
        "id" : "73",
        "description" : "Register new Nomad job, using robot account",
        "order" : "5",
        "response" : false
      }, {
        "id" : "76",
        "description" : "Submit Nomad job to Nomad agent on provisioned resources",
        "order" : "6",
        "response" : false
      }, {
        "id" : "77",
        "description" : "Executes Development Environment as container",
        "order" : "7",
        "response" : false
      }, {
        "id" : "85",
        "description" : "Read and store data from",
        "order" : "8",
        "response" : false
      }, {
        "id" : "71",
        "description" : "Develops new model",
        "order" : "9",
        "response" : false
      }, {
        "id" : "95",
        "order" : "10",
        "response" : false,
        "vertices" : [ {
          "x" : 3210,
          "y" : 634
        } ]
      }, {
        "id" : "96",
        "order" : "11",
        "response" : false,
        "vertices" : [ {
          "x" : 2845,
          "y" : 744
        } ]
      }, {
        "id" : "97",
        "order" : "12",
        "response" : false,
        "vertices" : [ {
          "x" : 2525,
          "y" : 799
        } ]
      }, {
        "id" : "91",
        "description" : "Registers new model",
        "order" : "13",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "14",
        "x" : 1820,
        "y" : 874
      }, {
        "id" : "16",
        "x" : 1019,
        "y" : 875
      }, {
        "id" : "17",
        "x" : 1019,
        "y" : 1451
      }, {
        "id" : "19",
        "x" : 240,
        "y" : 1324
      }, {
        "id" : "1",
        "x" : 1044,
        "y" : 199
      }, {
        "id" : "7",
        "x" : 1950,
        "y" : 2089
      }, {
        "id" : "8",
        "x" : 3200,
        "y" : 2104
      }, {
        "id" : "9",
        "x" : 2805,
        "y" : 1734
      }, {
        "id" : "20",
        "x" : 1019,
        "y" : 2029
      }, {
        "id" : "53",
        "x" : 240,
        "y" : 299
      }, {
        "id" : "21",
        "x" : 240,
        "y" : 2029
      }, {
        "id" : "10",
        "x" : 2500,
        "y" : 2079
      } ]
    }, {
      "key" : "oscar_dynamic",
      "order" : 14,
      "title" : "[Dynamic view] OSCAR dynamic view",
      "dimensions" : {
        "width" : 3725,
        "height" : 2161
      },
      "elementId" : "46",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "160",
        "description" : "Deploy service",
        "order" : "1",
        "response" : false
      }, {
        "id" : "143",
        "description" : "Buckets and folders will be created",
        "order" : "2",
        "response" : false
      }, {
        "id" : "161",
        "description" : "Store data for asynchronous inference (Option A)",
        "order" : "3",
        "response" : false
      }, {
        "id" : "145",
        "description" : "Execute services synchronously (Option B)",
        "order" : "4",
        "response" : false
      }, {
        "id" : "144",
        "description" : "Manage services. Register jobs. Retrieve logs (Option A)",
        "order" : "5",
        "response" : false
      }, {
        "id" : "147",
        "description" : "Create jobs (Option A)",
        "order" : "6",
        "response" : false
      }, {
        "id" : "146",
        "description" : "Assign to function's pod(s). (Option B)",
        "order" : "7",
        "response" : false
      }, {
        "id" : "148",
        "description" : "Download input. Upload output.",
        "order" : "8",
        "response" : false
      }, {
        "id" : "149",
        "description" : "Read/store data",
        "order" : "9",
        "response" : false
      } ],
      "elements" : [ {
        "id" : "59",
        "x" : 200,
        "y" : 750
      }, {
        "id" : "48",
        "x" : 870,
        "y" : 850
      }, {
        "id" : "49",
        "x" : 1628,
        "y" : 1495
      }, {
        "id" : "50",
        "x" : 1628,
        "y" : 240
      }, {
        "id" : "51",
        "x" : 1628,
        "y" : 850
      }, {
        "id" : "52",
        "x" : 2425,
        "y" : 850
      }, {
        "id" : "53",
        "x" : 3075,
        "y" : 850
      } ]
    }, {
      "key" : "federated_train_view",
      "order" : 13,
      "title" : "[Dynamic view] Federated learning scenario",
      "dimensions" : {
        "width" : 3579,
        "height" : 2944
      },
      "elementId" : "6",
      "externalBoundariesVisible" : true,
      "relationships" : [ {
        "id" : "70",
        "description" : "Requests available modules",
        "order" : "1",
        "response" : false
      }, {
        "id" : "84",
        "description" : "Checks user credentials",
        "order" : "2",
        "response" : false,
        "vertices" : [ {
          "x" : 2619,
          "y" : 980
        } ]
      }, {
        "id" : "84",
        "description" : "Returns access token",
        "order" : "3",
        "response" : true,
        "vertices" : [ {
          "x" : 2589,
          "y" : 1210
        } ]
      }, {
        "id" : "72",
        "description" : "Requests new federated learning job",
        "order" : "4",
        "response" : false
      }, {
        "id" : "73",
        "description" : "Register new federated learning Nomad job, using robot account",
        "order" : "5",
        "response" : false
      }, {
        "id" : "79",
        "description" : "Deploy federated learning server",
        "order" : "6",
        "response" : false
      }, {
        "id" : "81",
        "description" : "Get federated learning server credentials to interact with it",
        "order" : "7",
        "response" : false
      }, {
        "id" : "73",
        "description" : "Register new training Nomad job, using robot account",
        "order" : "8",
        "response" : false
      }, {
        "id" : "76",
        "description" : "Submit Nomad job to Nomad agent on provisioned resources",
        "order" : "9",
        "response" : false
      }, {
        "id" : "78",
        "description" : "Executes training job as container",
        "order" : "10",
        "response" : false
      }, {
        "id" : "80",
        "description" : "Get updated model, using server credentials",
        "order" : "11",
        "response" : false
      }, {
        "id" : "80",
        "description" : "Send updates to server, using server credentials",
        "order" : "12",
        "response" : false
      }, {
        "id" : "30",
        "description" : "Get updated model, using server credentials",
        "order" : "13",
        "response" : false
      }, {
        "id" : "30",
        "description" : "Send updates to server, using server credentials",
        "order" : "14",
        "response" : false
      }, {
        "id" : "81",
        "description" : "Query federated learning status",
        "order" : "15",
        "response" : false
      }, {
        "id" : "86",
        "description" : "Read training data",
        "order" : "16",
        "response" : true,
        "vertices" : [ {
          "x" : 684,
          "y" : 865
        } ]
      }, {
        "id" : "86",
        "description" : "Write training results",
        "order" : "17",
        "response" : false,
        "vertices" : [ {
          "x" : 284,
          "y" : 865
        } ]
      } ],
      "elements" : [ {
        "id" : "22",
        "x" : 1064,
        "y" : 1618
      }, {
        "id" : "1",
        "x" : 1909,
        "y" : 200
      }, {
        "id" : "23",
        "x" : 239,
        "y" : 1618
      }, {
        "id" : "14",
        "x" : 2889,
        "y" : 959
      }, {
        "id" : "16",
        "x" : 1884,
        "y" : 959
      }, {
        "id" : "17",
        "x" : 1884,
        "y" : 1618
      }, {
        "id" : "29",
        "x" : 1064,
        "y" : 959
      }, {
        "id" : "20",
        "x" : 1884,
        "y" : 2279
      }, {
        "id" : "53",
        "x" : 239,
        "y" : 300
      }, {
        "id" : "21",
        "x" : 1064,
        "y" : 2255
      } ]
    } ],
    "deploymentViews" : [ {
      "key" : "production_deployment",
      "order" : 15,
      "dimensions" : {
        "width" : 7416,
        "height" : 6240
      },
      "environment" : "Production",
      "elements" : [ {
        "id" : "190",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "191",
        "x" : 4330,
        "y" : 1545
      }, {
        "id" : "193",
        "x" : 4330,
        "y" : 2249
      }, {
        "id" : "195",
        "x" : 3558,
        "y" : 2249
      }, {
        "id" : "197",
        "x" : 3833,
        "y" : 2814
      }, {
        "id" : "230",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "231",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "199",
        "x" : 2605,
        "y" : 2789
      }, {
        "id" : "232",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "233",
        "x" : 5769,
        "y" : 3841
      }, {
        "id" : "235",
        "x" : 5769,
        "y" : 4441
      }, {
        "id" : "237",
        "x" : 6144,
        "y" : 5262
      }, {
        "id" : "162",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "163",
        "x" : 494,
        "y" : 5420
      }, {
        "id" : "240",
        "x" : 5394,
        "y" : 5262
      }, {
        "id" : "164",
        "x" : 1209,
        "y" : 5410
      }, {
        "id" : "165",
        "x" : 1964,
        "y" : 5430
      }, {
        "id" : "242",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "166",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "243",
        "x" : 3142,
        "y" : 3800
      }, {
        "id" : "167",
        "x" : 1885,
        "y" : 3800
      }, {
        "id" : "168",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "245",
        "x" : 4330,
        "y" : 4405
      }, {
        "id" : "169",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "202",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "203",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "204",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "248",
        "x" : 3892,
        "y" : 5226
      }, {
        "id" : "205",
        "x" : 5231,
        "y" : 2549
      }, {
        "id" : "249",
        "x" : 3142,
        "y" : 5226
      }, {
        "id" : "207",
        "x" : 6125,
        "y" : 2549
      }, {
        "id" : "209",
        "x" : 5231,
        "y" : 2985
      }, {
        "id" : "170",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "171",
        "x" : 1860,
        "y" : 264
      }, {
        "id" : "172",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "173",
        "x" : 1360,
        "y" : 1124
      }, {
        "id" : "251",
        "x" : 3142,
        "y" : 4405
      }, {
        "id" : "253",
        "x" : 4642,
        "y" : 5226
      }, {
        "id" : "178",
        "x" : 690,
        "y" : 1124
      }, {
        "id" : "255",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "212",
        "x" : 6125,
        "y" : 2985
      }, {
        "id" : "256",
        "x" : 2605,
        "y" : 3800
      }, {
        "id" : "214",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "215",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "216",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "217",
        "x" : 5251,
        "y" : 259
      }, {
        "id" : "180",
        "x" : 2043,
        "y" : 1124
      }, {
        "id" : "182",
        "x" : 2043,
        "y" : 1784
      }, {
        "id" : "184",
        "x" : 690,
        "y" : 1784
      }, {
        "id" : "187",
        "x" : 1360,
        "y" : 1784
      }, {
        "id" : "221",
        "x" : 700,
        "y" : 700
      }, {
        "id" : "222",
        "x" : 5251,
        "y" : 764
      }, {
        "id" : "223",
        "x" : 5251,
        "y" : 1572
      }, {
        "id" : "225",
        "x" : 6001,
        "y" : 764
      }, {
        "id" : "226",
        "x" : 5978,
        "y" : 1572
      }, {
        "id" : "228",
        "x" : 6696,
        "y" : 764
      }, {
        "id" : "229",
        "x" : 6706,
        "y" : 1572
      } ],
      "relationships" : [ {
        "id" : "239"
      }, {
        "id" : "194"
      }, {
        "id" : "174",
        "vertices" : [ {
          "x" : 1200,
          "y" : 1784
        }, {
          "x" : 750,
          "y" : 4679
        } ]
      }, {
        "id" : "175",
        "vertices" : [ {
          "x" : 1235,
          "y" : 1864
        }, {
          "x" : 1255,
          "y" : 4684
        } ]
      }, {
        "id" : "196"
      }, {
        "id" : "213"
      }, {
        "id" : "211"
      }, {
        "id" : "210",
        "vertices" : [ {
          "x" : 4270,
          "y" : 3344
        } ]
      }, {
        "id" : "192"
      }, {
        "id" : "254"
      }, {
        "id" : "234",
        "vertices" : [ {
          "x" : 3310,
          "y" : 1909
        }, {
          "x" : 3710,
          "y" : 3494
        }, {
          "x" : 4995,
          "y" : 4019
        } ]
      }, {
        "id" : "219"
      }, {
        "id" : "236"
      }, {
        "id" : "257"
      }, {
        "id" : "218"
      }, {
        "id" : "238"
      }, {
        "id" : "250"
      }, {
        "id" : "252"
      }, {
        "id" : "176",
        "vertices" : [ {
          "x" : 2010,
          "y" : 2114
        }, {
          "x" : 2270,
          "y" : 2929
        } ]
      }, {
        "id" : "198"
      }, {
        "id" : "177"
      }, {
        "id" : "179"
      }, {
        "id" : "183"
      }, {
        "id" : "185",
        "vertices" : [ {
          "x" : 350,
          "y" : 2019
        }, {
          "x" : 400,
          "y" : 5364
        } ]
      }, {
        "id" : "186",
        "vertices" : [ {
          "x" : 355,
          "y" : 2029
        }, {
          "x" : 225,
          "y" : 5929
        }, {
          "x" : 1305,
          "y" : 5914
        } ]
      }, {
        "id" : "201",
        "vertices" : [ {
          "x" : 3655,
          "y" : 2024
        } ]
      }, {
        "id" : "200"
      }, {
        "id" : "181"
      }, {
        "id" : "220",
        "vertices" : [ {
          "x" : 3150,
          "y" : 779
        } ]
      }, {
        "id" : "244"
      }, {
        "id" : "224"
      }, {
        "id" : "247",
        "vertices" : [ {
          "x" : 4533,
          "y" : 6014
        }, {
          "x" : 2908,
          "y" : 6009
        } ]
      }, {
        "id" : "208"
      }, {
        "id" : "246"
      }, {
        "id" : "206",
        "vertices" : [ {
          "x" : 5010,
          "y" : 1334
        }, {
          "x" : 5020,
          "y" : 2699
        } ]
      }, {
        "id" : "227"
      }, {
        "id" : "241"
      }, {
        "id" : "188",
        "vertices" : [ {
          "x" : 855,
          "y" : 5074
        } ]
      }, {
        "id" : "189"
      } ]
    } ],
    "configuration" : {
      "branding" : {
        "font" : {
          "name" : "Roboto",
          "url" : "http://fonts.googleapis.com/css?family=Roboto"
        }
      },
      "styles" : {
        "elements" : [ {
          "tag" : "dashboard",
          "shape" : "WebBrowser"
        }, {
          "tag" : "repository",
          "shape" : "Folder"
        }, {
          "tag" : "database",
          "shape" : "Cylinder"
        }, {
          "tag" : "external",
          "background" : "#d3d3d3"
        }, {
          "tag" : "Container",
          "background" : "#008792"
        }, {
          "tag" : "Software System",
          "background" : "#ff9db2",
          "color" : "#000000"
        }, {
          "tag" : "Person",
          "background" : "#004f56"
        } ]
      },
      "themes" : [ "https://static.structurizr.com/themes/default/theme.json" ],
      "terminology" : {
        "enterprise" : "Project"
      },
      "lastSavedView" : "federated_train_view"
    }
  }
}